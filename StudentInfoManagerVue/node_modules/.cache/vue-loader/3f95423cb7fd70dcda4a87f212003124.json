{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\src\\views\\Teacher\\teacherGradeCourseManage\\teacherGradeCourseList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\src\\views\\Teacher\\teacherGradeCourseManage\\teacherGradeCourseList.vue","mtime":1724076450844},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724076440776},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1724076439409},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724076440776},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1724076451296}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICBzZWxlY3Qocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdykKICAgIH0sCiAgICBjaGFuZ2VQYWdlKHBhZ2UpIHsKICAgICAgcGFnZSA9IHBhZ2UgLSAxCiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzCiAgICAgIGxldCBzdGFydCA9IHBhZ2UgKiB0aGF0LnBhZ2VTaXplLCBlbmQgPSB0aGF0LnBhZ2VTaXplICogKHBhZ2UgKyAxKQogICAgICBsZXQgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aAogICAgICBsZXQgYW5zID0gKGVuZCA8IGxlbmd0aCkgPyBlbmQgOiBsZW5ndGgKICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucykKICAgIH0sCiAgICBlZGl0b3Iocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2VkaXRvckdyYWRlQ291cnNlJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgY2lkOiByb3cuY2lkLAogICAgICAgICAgdGlkOiByb3cudGlkLAogICAgICAgICAgc2lkOiByb3cuc2lkLAogICAgICAgICAgdGVybTogcm93LnRlcm0KICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBudWxsLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiBudWxsLAogICAgICB0bXBMaXN0OiBudWxsLAogICAgICBhdmc6IDAsCiAgICB9CiAgfSwKICBwcm9wczogewogICAgcnVsZUZvcm06IE9iamVjdCwKICB9LAogIHdhdGNoOiB7CiAgICBydWxlRm9ybTogewogICAgICBoYW5kbGVyKG5ld1J1bGVGb3JtLCBvbGRSdWxlRm9ybSkgewogICAgICAgIGNvbnNvbGUubG9nKCLnu4Tku7bnm5HlkKwgZm9ybSIpCiAgICAgICAgY29uc29sZS5sb2cobmV3UnVsZUZvcm0pCiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXMKICAgICAgICB0aGF0LnRtcExpc3QgPSBudWxsCiAgICAgICAgdGhhdC50b3RhbCA9IG51bGwKICAgICAgICB0aGF0LnRhYmxlRGF0YSA9IG51bGwKICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0Ojk0NTEvU0NUL2ZpbmRCeVNlYXJjaCIsIG5ld1J1bGVGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i57uT5p6cOiIpOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcCkKICAgICAgICAgIHRoYXQudG1wTGlzdCA9IHJlc3AuZGF0YQogICAgICAgICAgdGhhdC50b3RhbCA9IHJlc3AuZGF0YS5sZW5ndGgKICAgICAgICAgIGxldCBzdGFydCA9IDAsIGVuZCA9IHRoYXQucGFnZVNpemUKICAgICAgICAgIGxldCBsZW5ndGggPSB0aGF0LnRtcExpc3QubGVuZ3RoCiAgICAgICAgICBsZXQgYW5zID0gKGVuZCA8IGxlbmd0aCkgPyBlbmQgOiBsZW5ndGgKICAgICAgICAgIHRoYXQudGFibGVEYXRhID0gdGhhdC50bXBMaXN0LnNsaWNlKHN0YXJ0LCBhbnMpCgogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGF0LnRtcExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhhdC5hdmcgKz0gdGhhdC50bXBMaXN0W2ldLmdyYWRlCiAgICAgICAgICB9CiAgICAgICAgICB0aGF0LmF2ZyAvPSB0aGF0LnRvdGFsCiAgICAgICAgICBjb25zb2xlLmxvZygnYXZnJywgdGhhdC5hdmcpCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["teacherGradeCourseList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"teacherGradeCourseList.vue","sourceRoot":"src/views/Teacher/teacherGradeCourseManage","sourcesContent":["<template>\n  <div>\n\n    <el-table :data=\"tableData\" border stripe style=\"width: 100%\">\n      <el-table-column fixed prop=\"cid\" label=\"课程号\" >\n      </el-table-column>\n      <el-table-column prop=\"cname\" label=\"课程名\">\n      </el-table-column>\n      <el-table-column fixed prop=\"sid\" label=\"学号\">\n      </el-table-column>\n      <el-table-column prop=\"sname\" label=\"学生名\">\n      </el-table-column>\n      <el-table-column prop=\"grade\" label=\"成绩\">\n      </el-table-column>\n      <el-table-column prop=\"term\" label=\"学期\">\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"140\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"editor(scope.row)\" type=\"primary\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <p>\n      平均成绩：{{ avg }}\n    </p>\n    <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n      @current-change=\"changePage\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    select(row) {\n      console.log(row)\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n    editor(row) {\n      this.$router.push({\n        path: '/editorGradeCourse',\n        query: {\n          cid: row.cid,\n          tid: row.tid,\n          sid: row.sid,\n          term: row.term\n        }\n      })\n    }\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n      avg: 0,\n    }\n  },\n  props: {\n    ruleForm: Object,\n  },\n  watch: {\n    ruleForm: {\n      handler(newRuleForm, oldRuleForm) {\n        console.log(\"组件监听 form\")\n        console.log(newRuleForm)\n        const that = this\n        that.tmpList = null\n        that.total = null\n        that.tableData = null\n        axios.post(\"http://localhost:9451/SCT/findBySearch\", newRuleForm).then(function (resp) {\n          console.log(\"查询结果:\");\n          console.log(resp)\n          that.tmpList = resp.data\n          that.total = resp.data.length\n          let start = 0, end = that.pageSize\n          let length = that.tmpList.length\n          let ans = (end < length) ? end : length\n          that.tableData = that.tmpList.slice(start, ans)\n\n          for (let i = 0; i < that.tmpList.length; i++) {\n            that.avg += that.tmpList[i].grade\n          }\n          that.avg /= that.total\n          console.log('avg', that.avg)\n        })\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n}\n</script>"]}]}