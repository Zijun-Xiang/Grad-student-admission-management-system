{"remainingRequest":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\views\\Admin\\gradeCourseManage\\gradeCourseList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\views\\Admin\\gradeCourseManage\\gradeCourseList.vue","mtime":1765659554838},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1742524556000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1742524580000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICBzZWxlY3Qocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdykKICAgIH0sCiAgICBkZWxldGVUZWFjaGVyKHJvdykgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBjb25zb2xlLmxvZyhyb3cpCiAgICAgIGNvbnN0IHNpZCA9IHJvdy5zaWQKICAgICAgY29uc3QgY2lkID0gcm93LmNpZAogICAgICBjb25zdCB0aWQgPSByb3cudGlkCiAgICAgIGNvbnN0IHRlcm0gPSByb3cudGVybQogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTQ1MS9TQ1QvZGVsZXRlQnlJZC8iICsgc2lkICsgJy8nICsgY2lkICsgJy8nICsgdGlkICsgJy8nICsgdGVybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3ApCiAgICAgICAgaWYgKHJlc3AuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ0RlbGV0ZWQgc3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdEZWxldGlvbiBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbicsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnRGVsZXRpb24gZmFpbGVkIGR1ZSB0byBmb3JlaWduIGtleSBjb25zdHJhaW50cycsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0pCiAgICB9LAogICAgY2hhbmdlUGFnZShwYWdlKSB7CiAgICAgIHBhZ2UgPSBwYWdlIC0gMQogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBsZXQgc3RhcnQgPSBwYWdlICogdGhhdC5wYWdlU2l6ZSwgZW5kID0gdGhhdC5wYWdlU2l6ZSAqIChwYWdlICsgMSkKICAgICAgbGV0IGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGgKICAgICAgbGV0IGFucyA9IChlbmQgPCBsZW5ndGgpID8gZW5kIDogbGVuZ3RoCiAgICAgIHRoYXQudGFibGVEYXRhID0gdGhhdC50bXBMaXN0LnNsaWNlKHN0YXJ0LCBhbnMpCiAgICB9LAogICAgZWRpdG9yKHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9lZGl0b3JHcmFkZUNvdXJzZScsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGNpZDogcm93LmNpZCwKICAgICAgICAgIHRpZDogcm93LnRpZCwKICAgICAgICAgIHNpZDogcm93LnNpZCwKICAgICAgICAgIHRlcm06IHJvdy50ZXJtCiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogbnVsbCwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgdG1wTGlzdDogbnVsbCwKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBydWxlRm9ybTogT2JqZWN0LAogIH0sCiAgd2F0Y2g6IHsKICAgIHJ1bGVGb3JtOiB7CiAgICAgIGhhbmRsZXIobmV3UnVsZUZvcm0sIG9sZFJ1bGVGb3JtKSB7CiAgICAgICAgY29uc29sZS5sb2coIue7hOS7tuebkeWQrCBmb3JtIikKICAgICAgICBjb25zb2xlLmxvZyhuZXdSdWxlRm9ybSkKICAgICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICAgIHRoYXQudG1wTGlzdCA9IG51bGwKICAgICAgICB0aGF0LnRvdGFsID0gbnVsbAogICAgICAgIHRoYXQudGFibGVEYXRhID0gbnVsbAogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6OTQ1MS9TQ1QvZmluZEJ5U2VhcmNoIiwgbmV3UnVsZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLmn6Xor6Lnu5Pmnpw6Iik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKQogICAgICAgICAgdGhhdC50bXBMaXN0ID0gcmVzcC5kYXRhCiAgICAgICAgICB0aGF0LnRvdGFsID0gcmVzcC5kYXRhLmxlbmd0aAogICAgICAgICAgbGV0IHN0YXJ0ID0gMCwgZW5kID0gdGhhdC5wYWdlU2l6ZQogICAgICAgICAgbGV0IGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGgKICAgICAgICAgIGxldCBhbnMgPSAoZW5kIDwgbGVuZ3RoKSA/IGVuZCA6IGxlbmd0aAogICAgICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucykKICAgICAgICB9KQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["gradeCourseList.vue"],"names":[],"mappings":";AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gradeCourseList.vue","sourceRoot":"src/views/Admin/gradeCourseManage","sourcesContent":["<template>\n  <div >\n    <div style=\"color: black;font-size: 30px;font-weight: bolder;margin-bottom: 20px;\">Search Results</div>\n    <el-table :data=\"tableData\" border stripe style=\"width: 70%\">\n      <el-table-column prop=\"cid\" label=\"Course ID\" width=\"150\">\n      </el-table-column>\n      <el-table-column prop=\"cname\" label=\"Course Name\" width=\"150\">\n      </el-table-column>\n      <el-table-column prop=\"tid\" label=\"Teacher ID\" width=\"100\">\n      </el-table-column>\n      <el-table-column prop=\"tname\" label=\"Instructor Name\" width=\"100\">\n      </el-table-column>\n      <el-table-column prop=\"sid\" label=\"Student ID\" width=\"100\">\n      </el-table-column>\n      <el-table-column prop=\"sname\" label=\"Student Name\" width=\"100\">\n      </el-table-column>\n      <el-table-column prop=\"grade\" label=\"Grade\" width=\"100\">\n      </el-table-column>\n      <el-table-column prop=\"term\" label=\"Term\" width=\"100\">\n      </el-table-column>\n      <el-table-column label=\"Actions\" width=\"260\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-popconfirm confirm-button-text='Delete' cancel-button-text='Cancel' icon=\"el-icon-info\" icon-color=\"red\"\n            title=\"Deletion cannot be undone\" @confirm=\"deleteTeacher(scope.row)\">\n            <el-button slot=\"reference\" type=\"danger\">Delete</el-button>\n          </el-popconfirm>\n          <el-button @click=\"editor(scope.row)\" type=\"primary\">Edit</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n      @current-change=\"changePage\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    select(row) {\n      console.log(row)\n    },\n    deleteTeacher(row) {\n      const that = this\n      console.log(row)\n      const sid = row.sid\n      const cid = row.cid\n      const tid = row.tid\n      const term = row.term\n      axios.get(\"http://localhost:9451/SCT/deleteById/\" + sid + '/' + cid + '/' + tid + '/' + term).then(function (resp) {\n        console.log(resp)\n        if (resp.data === true) {\n          that.$message({\n            showClose: true,\n            message: 'Deleted successfully',\n            type: 'success'\n          });\n          window.location.reload()\n        }\n        else {\n          that.$message({\n            showClose: true,\n            message: 'Deletion failed, please check the database connection',\n            type: 'error'\n          });\n        }\n      }).catch(function (error) {\n        that.$message({\n          showClose: true,\n          message: 'Deletion failed due to foreign key constraints',\n          type: 'error'\n        });\n      })\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n    editor(row) {\n      this.$router.push({\n        path: '/editorGradeCourse',\n        query: {\n          cid: row.cid,\n          tid: row.tid,\n          sid: row.sid,\n          term: row.term\n        }\n      })\n    }\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n    }\n  },\n  props: {\n    ruleForm: Object,\n  },\n  watch: {\n    ruleForm: {\n      handler(newRuleForm, oldRuleForm) {\n        console.log(\"组件监听 form\")\n        console.log(newRuleForm)\n        const that = this\n        that.tmpList = null\n        that.total = null\n        that.tableData = null\n        axios.post(\"http://localhost:9451/SCT/findBySearch\", newRuleForm).then(function (resp) {\n          console.log(\"查询结果:\");\n          console.log(resp)\n          that.tmpList = resp.data\n          that.total = resp.data.length\n          let start = 0, end = that.pageSize\n          let length = that.tmpList.length\n          let ans = (end < length) ? end : length\n          that.tableData = that.tmpList.slice(start, ans)\n        })\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n}\n</script>\n"]}]}