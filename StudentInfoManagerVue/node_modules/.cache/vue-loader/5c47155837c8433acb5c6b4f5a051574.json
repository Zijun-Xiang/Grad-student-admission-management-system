{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\src\\views\\Student\\selectCourse\\querySelectedCourse.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\src\\views\\Student\\selectCourse\\querySelectedCourse.vue","mtime":1724076450836},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724076440776},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1726994504876},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724076440776},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\R031-StudentInfoManager\\src\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1726994505202}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICBkZWxldGVTQ1Qocm93KSB7CiAgICAgIGNvbnN0IGNpZCA9IHJvdy5jaWQKICAgICAgY29uc3QgdGlkID0gcm93LnRpZAogICAgICBjb25zdCBzaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzaWQnKQogICAgICBjb25zdCB0ZXJtID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFRlcm0nKQogICAgICBjb25zdCBzY3QgPSB7CiAgICAgICAgY2lkOiBjaWQsCiAgICAgICAgdGlkOiB0aWQsCiAgICAgICAgc2lkOiBzaWQsCiAgICAgICAgdGVybTogdGVybQogICAgICB9CgogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojk0NTEvU0NUL2RlbGV0ZUJ5U0NUJywgc2N0KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+mAgOivvuaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn6YCA6K++5aSx6LSl77yM6K+36IGU57O7566h55CG5ZGYJywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KQoKICAgIH0sCiAgICBjaGFuZ2VQYWdlKHBhZ2UpIHsKICAgICAgcGFnZSA9IHBhZ2UgLSAxCiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzCiAgICAgIGxldCBzdGFydCA9IHBhZ2UgKiB0aGF0LnBhZ2VTaXplLCBlbmQgPSB0aGF0LnBhZ2VTaXplICogKHBhZ2UgKyAxKQogICAgICBsZXQgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aAogICAgICBsZXQgYW5zID0gKGVuZCA8IGxlbmd0aCkgPyBlbmQgOiBsZW5ndGgKICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucykKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBudWxsLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiBudWxsLAogICAgICB0bXBMaXN0OiBudWxsLAogICAgICB0eXBlOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0eXBlJykKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygxMTExMykKICAgIGNvbnN0IHNpZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NpZCcpCiAgICBsZXQgdGVybSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRUZXJtJykKICAgIGlmKHRlcm0gPT0gIiIgfHwgdGVybSA9PSBudWxsKSB7CiAgICAgICB0ZXJtID0gIm51bGwiCiAgICB9CiAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojk0NTEvU0NUL2ZpbmRCeVNpZC8nICsgc2lkICsgJy8nICsgdGVybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICB0aGF0LnRtcExpc3QgPSByZXNwLmRhdGEKICAgICAgdGhhdC50b3RhbCA9IHJlc3AuZGF0YS5sZW5ndGgKICAgICAgbGV0IHN0YXJ0ID0gMCwgZW5kID0gdGhhdC5wYWdlU2l6ZQogICAgICBsZXQgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aAogICAgICBsZXQgYW5zID0gKGVuZCA8IGxlbmd0aCkgPyBlbmQgOiBsZW5ndGgKICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGVuZCkKICAgIH0pCiAgfSwKfQo="},{"version":3,"sources":["querySelectedCourse.vue"],"names":[],"mappings":";AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"querySelectedCourse.vue","sourceRoot":"src/views/Student/selectCourse","sourcesContent":["<template>\n  <div  style=\"display: flex;flex-direction: column;align-items: center; \">\n    <div style=\"color: black;font-size: 30px;font-weight: bolder;margin-bottom: 30px;\">已选课程</div>\n    <el-card >\n     \n      <el-table :data=\"tableData\" border style=\"width: 100%\">\n        <el-table-column fixed prop=\"cid\" label=\"课号\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"cname\" label=\"课程号\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"tid\" label=\"教师号\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"tname\" label=\"教师名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"ccredit\" label=\"学分\" width=\"150\">\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"260\" fixed=\"right\">\n\n          <template slot-scope=\"scope\">\n            <el-popconfirm confirm-button-text='退课' cancel-button-text='取消' icon=\"el-icon-info\" title=\"确定退课？\"\n              @confirm=\"deleteSCT(scope.row)\">\n              <el-button slot=\"reference\" type=\"danger\">退课</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n        @current-change=\"changePage\">\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    deleteSCT(row) {\n      const cid = row.cid\n      const tid = row.tid\n      const sid = sessionStorage.getItem('sid')\n      const term = sessionStorage.getItem('currentTerm')\n      const sct = {\n        cid: cid,\n        tid: tid,\n        sid: sid,\n        term: term\n      }\n\n      const that = this\n      axios.post('http://localhost:9451/SCT/deleteBySCT', sct).then(function (resp) {\n        if (resp.data === true) {\n          that.$message({\n            showClose: true,\n            message: '退课成功',\n            type: 'success'\n          });\n          window.location.reload()\n        }\n        else {\n          that.$message({\n            showClose: true,\n            message: '退课失败，请联系管理员',\n            type: 'error'\n          });\n        }\n      })\n\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n      type: sessionStorage.getItem('type')\n    }\n  },\n  mounted() {\n    console.log(11113)\n    const sid = sessionStorage.getItem('sid')\n    let term = sessionStorage.getItem('currentTerm')\n    if(term == \"\" || term == null) {\n       term = \"null\"\n    }\n    const that = this\n    axios.get('http://localhost:9451/SCT/findBySid/' + sid + '/' + term).then(function (resp) {\n      that.tmpList = resp.data\n      that.total = resp.data.length\n      let start = 0, end = that.pageSize\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, end)\n    })\n  },\n}\n</script>"]}]}