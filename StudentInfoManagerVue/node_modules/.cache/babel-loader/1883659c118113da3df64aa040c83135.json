{"remainingRequest":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\views\\Admin\\teacherManage\\teacherList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\views\\Admin\\teacherManage\\teacherList.vue","mtime":1765660633452},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\babel.config.js","mtime":1742524554000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1742524556000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1742524580000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICBkZWxldGVUZWFjaGVyKHJvdykgewogICAgICBpZiAocm93LnRuYW1lID09PSAnYWRtaW4nKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnVGhlIGFkbWluIGFjY291bnQgY2Fubm90IGJlIGRlbGV0ZWQnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojk0NTEvdGVhY2hlci9kZWxldGVCeUlkLycgKyByb3cudGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ0RlbGV0ZWQgc3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ0RlbGV0aW9uIGZhaWxlZCwgcGxlYXNlIGNoZWNrIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uJywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ0RlbGV0aW9uIGZhaWxlZCBkdWUgdG8gZm9yZWlnbiBrZXkgY29uc3RyYWludHMnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VQYWdlKHBhZ2UpIHsKICAgICAgcGFnZSA9IHBhZ2UgLSAxOwogICAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgICAgbGV0IHN0YXJ0ID0gcGFnZSAqIHRoYXQucGFnZVNpemUsCiAgICAgICAgZW5kID0gdGhhdC5wYWdlU2l6ZSAqIChwYWdlICsgMSk7CiAgICAgIGxldCBsZW5ndGggPSB0aGF0LnRtcExpc3QubGVuZ3RoOwogICAgICBsZXQgYW5zID0gZW5kIDwgbGVuZ3RoID8gZW5kIDogbGVuZ3RoOwogICAgICB0aGF0LnRhYmxlRGF0YSA9IHRoYXQudG1wTGlzdC5zbGljZShzdGFydCwgYW5zKTsKICAgIH0sCiAgICBlZGl0b3Iocm93KSB7CiAgICAgIGlmIChyb3cudG5hbWUgPT09ICdhZG1pbicpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgYWRtaW4gYWNjb3VudCBjYW5ub3QgYmUgZWRpdGVkJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvZWRpdG9yVGVhY2hlcicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHRpZDogcm93LnRpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBudWxsLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiBudWxsLAogICAgICB0bXBMaXN0OiBudWxsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHJ1bGVGb3JtOiBPYmplY3QKICB9LAogIHdhdGNoOiB7CiAgICBydWxlRm9ybTogewogICAgICBoYW5kbGVyKG5ld1J1bGVGb3JtLCBvbGRSdWxlRm9ybSkgewogICAgICAgIGNvbnNvbGUubG9nKCLnu4Tku7bnm5HlkKwgZm9ybSIpOwogICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOwogICAgICAgIHRoYXQudG1wTGlzdCA9IG51bGw7CiAgICAgICAgdGhhdC50b3RhbCA9IG51bGw7CiAgICAgICAgdGhhdC50YWJsZURhdGEgPSBudWxsOwogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6OTQ1MS90ZWFjaGVyL2ZpbmRCeVNlYXJjaCIsIG5ld1J1bGVGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i57uT5p6cOiIpOwogICAgICAgICAgY29uc29sZS5sb2cobmV3UnVsZUZvcm0pOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgICAgICB0aGF0LnRtcExpc3QgPSByZXNwLmRhdGE7CiAgICAgICAgICB0aGF0LnRvdGFsID0gcmVzcC5kYXRhLmxlbmd0aDsKICAgICAgICAgIGxldCBzdGFydCA9IDAsCiAgICAgICAgICAgIGVuZCA9IHRoYXQucGFnZVNpemU7CiAgICAgICAgICBsZXQgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aDsKICAgICAgICAgIGxldCBhbnMgPSBlbmQgPCBsZW5ndGggPyBlbmQgOiBsZW5ndGg7CiAgICAgICAgICB0aGF0LnRhYmxlRGF0YSA9IHRoYXQudG1wTGlzdC5zbGljZShzdGFydCwgZW5kKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["methods","deleteTeacher","row","tname","$message","showClose","message","type","that","axios","get","tid","then","resp","data","window","location","reload","catch","e","changePage","page","start","pageSize","end","length","tmpList","ans","tableData","slice","editor","$router","push","path","query","total","props","ruleForm","Object","watch","handler","newRuleForm","oldRuleForm","console","log","post","deep","immediate"],"sources":["src/views/Admin/teacherManage/teacherList.vue"],"sourcesContent":["<template>\n    <div style=\"display: flex;flex-direction: column;align-items: center; \">\n      <div style=\"color: black;font-size: 30px;font-weight: bolder;margin-bottom: 30px;\">Teacher List</div>\n      <div>\n    <el-table :data=\"tableData\" >\n      <el-table-column fixed prop=\"tid\" label=\"Teacher ID\" width=\"150\">\n      </el-table-column>\n      <el-table-column prop=\"tname\" label=\"Name\" width=\"150\">\n      </el-table-column>\n      <el-table-column prop=\"password\" label=\"Password\" width=\"150\">\n      </el-table-column>\n      <el-table-column label=\"Actions\" width=\"260\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-popconfirm confirm-button-text='Delete' cancel-button-text='Cancel' icon=\"el-icon-info\" icon-color=\"red\"\n            title=\"Deletion cannot be undone\" @confirm=\"deleteTeacher(scope.row)\">\n            <el-button slot=\"reference\" type=\"danger\">Delete</el-button>\n          </el-popconfirm>\n          <el-button @click=\"editor(scope.row)\" type=\"primary\">Edit</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n    <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n      @current-change=\"changePage\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    deleteTeacher(row) {\n      if (row.tname === 'admin') {\n        this.$message({\n          showClose: true,\n          message: 'The admin account cannot be deleted',\n          type: 'error'\n        });\n        return\n      }\n      const that = this\n      axios.get('http://localhost:9451/teacher/deleteById/' + row.tid).then(function (resp) {\n        if (resp.data === true) {\n          that.$message({\n            showClose: true,\n            message: 'Deleted successfully',\n            type: 'success'\n          });\n          window.location.reload()\n        }\n        else {\n          that.$message({\n            showClose: true,\n            message: 'Deletion failed, please check the database connection',\n            type: 'error'\n          });\n        }\n      }).catch(function (e) {\n        that.$message({\n          showClose: true,\n          message: 'Deletion failed due to foreign key constraints',\n          type: 'error'\n        });\n      })\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n    editor(row) {\n      if (row.tname === 'admin') {\n        this.$message({\n          showClose: true,\n          message: 'The admin account cannot be edited',\n          type: 'error'\n        });\n        return\n      }\n      this.$router.push({\n        path: '/editorTeacher',\n        query: {\n          tid: row.tid\n        }\n      })\n    }\n  },\n\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n    }\n  },\n  props: {\n    ruleForm: Object\n  },\n  watch: {\n    ruleForm: {\n      handler(newRuleForm, oldRuleForm) {\n        console.log(\"组件监听 form\")\n        const that = this\n        that.tmpList = null\n        that.total = null\n        that.tableData = null\n        axios.post(\"http://localhost:9451/teacher/findBySearch\", newRuleForm).then(function (resp) {\n          console.log(\"查询结果:\");\n          console.log(newRuleForm)\n          console.log(resp)\n          that.tmpList = resp.data\n          that.total = resp.data.length\n          let start = 0, end = that.pageSize\n          let length = that.tmpList.length\n          let ans = (end < length) ? end : length\n          that.tableData = that.tmpList.slice(start, end)\n        })\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n}\n</script>\n"],"mappings":";AA6BA;EACAA,OAAA;IACAC,cAAAC,GAAA;MACA,IAAAA,GAAA,CAAAC,KAAA;QACA,KAAAC,QAAA;UACAC,SAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACA;MACA;MACA,MAAAC,IAAA;MACAC,KAAA,CAAAC,GAAA,+CAAAR,GAAA,CAAAS,GAAA,EAAAC,IAAA,WAAAC,IAAA;QACA,IAAAA,IAAA,CAAAC,IAAA;UACAN,IAAA,CAAAJ,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;UACAQ,MAAA,CAAAC,QAAA,CAAAC,MAAA;QACA,OACA;UACAT,IAAA,CAAAJ,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;MACA,GAAAW,KAAA,WAAAC,CAAA;QACAX,IAAA,CAAAJ,QAAA;UACAC,SAAA;UACAC,OAAA;UACAC,IAAA;QACA;MACA;IACA;IACAa,WAAAC,IAAA;MACAA,IAAA,GAAAA,IAAA;MACA,MAAAb,IAAA;MACA,IAAAc,KAAA,GAAAD,IAAA,GAAAb,IAAA,CAAAe,QAAA;QAAAC,GAAA,GAAAhB,IAAA,CAAAe,QAAA,IAAAF,IAAA;MACA,IAAAI,MAAA,GAAAjB,IAAA,CAAAkB,OAAA,CAAAD,MAAA;MACA,IAAAE,GAAA,GAAAH,GAAA,GAAAC,MAAA,GAAAD,GAAA,GAAAC,MAAA;MACAjB,IAAA,CAAAoB,SAAA,GAAApB,IAAA,CAAAkB,OAAA,CAAAG,KAAA,CAAAP,KAAA,EAAAK,GAAA;IACA;IACAG,OAAA5B,GAAA;MACA,IAAAA,GAAA,CAAAC,KAAA;QACA,KAAAC,QAAA;UACAC,SAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACA;MACA;MACA,KAAAwB,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UACAvB,GAAA,EAAAT,GAAA,CAAAS;QACA;MACA;IACA;EACA;EAEAG,KAAA;IACA;MACAc,SAAA;MACAL,QAAA;MACAY,KAAA;MACAT,OAAA;IACA;EACA;EACAU,KAAA;IACAC,QAAA,EAAAC;EACA;EACAC,KAAA;IACAF,QAAA;MACAG,QAAAC,WAAA,EAAAC,WAAA;QACAC,OAAA,CAAAC,GAAA;QACA,MAAApC,IAAA;QACAA,IAAA,CAAAkB,OAAA;QACAlB,IAAA,CAAA2B,KAAA;QACA3B,IAAA,CAAAoB,SAAA;QACAnB,KAAA,CAAAoC,IAAA,+CAAAJ,WAAA,EAAA7B,IAAA,WAAAC,IAAA;UACA8B,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAH,WAAA;UACAE,OAAA,CAAAC,GAAA,CAAA/B,IAAA;UACAL,IAAA,CAAAkB,OAAA,GAAAb,IAAA,CAAAC,IAAA;UACAN,IAAA,CAAA2B,KAAA,GAAAtB,IAAA,CAAAC,IAAA,CAAAW,MAAA;UACA,IAAAH,KAAA;YAAAE,GAAA,GAAAhB,IAAA,CAAAe,QAAA;UACA,IAAAE,MAAA,GAAAjB,IAAA,CAAAkB,OAAA,CAAAD,MAAA;UACA,IAAAE,GAAA,GAAAH,GAAA,GAAAC,MAAA,GAAAD,GAAA,GAAAC,MAAA;UACAjB,IAAA,CAAAoB,SAAA,GAAApB,IAAA,CAAAkB,OAAA,CAAAG,KAAA,CAAAP,KAAA,EAAAE,GAAA;QACA;MACA;MACAsB,IAAA;MACAC,SAAA;IACA;EACA;AACA","ignoreList":[]}]}