{"remainingRequest":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\views\\Admin\\studentManage\\studentList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\views\\Admin\\studentManage\\studentList.vue","mtime":1765660735645},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\babel.config.js","mtime":1742524554000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1742524556000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1742524580000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICBkZWxldGVTdHVkZW50KHJvdykgewogICAgICBjb25zdCB0aGF0ID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojk0NTEvc3R1ZGVudC9kZWxldGVCeUlkLycgKyByb3cuc2lkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ0RlbGV0ZWQgc3VjY2Vzc2Z1bGx5JywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoYXQudG1wTGlzdCA9PT0gbnVsbCk7CiAgICAgICAgICBpZiAodGhhdC50bXBMaXN0ID09PSBudWxsKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoYXQuJHJvdXRlci5wdXNoKCcvcXVlcnlTdHVkZW50Jyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdEZWxldGlvbiBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbicsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICdEZWxldGlvbiBmYWlsZWQgZHVlIHRvIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnRzJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUGFnZShwYWdlKSB7CiAgICAgIHBhZ2UgPSBwYWdlIC0gMTsKICAgICAgaWYgKHRoaXMudG1wTGlzdCA9PT0gbnVsbCkgewogICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOwogICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo5NDUxL3N0dWRlbnQvZmluZEJ5UGFnZS8nICsgcGFnZSArICcvJyArIHRoYXQucGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHRoYXQudGFibGVEYXRhID0gcmVzcC5kYXRhOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICBsZXQgc3RhcnQgPSBwYWdlICogdGhhdC5wYWdlU2l6ZSwKICAgICAgICAgIGVuZCA9IHRoYXQucGFnZVNpemUgKiAocGFnZSArIDEpOwogICAgICAgIGxldCBsZW5ndGggPSB0aGF0LnRtcExpc3QubGVuZ3RoOwogICAgICAgIGxldCBhbnMgPSBlbmQgPCBsZW5ndGggPyBlbmQgOiBsZW5ndGg7CiAgICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucyk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0b3Iocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2VkaXRvclN0dWRlbnQnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBzaWQ6IHJvdy5zaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogbnVsbCwKICAgICAgcGFnZVNpemU6IDcsCiAgICAgIHRvdGFsOiBudWxsLAogICAgICBydWxlRm9ybTogbnVsbCwKICAgICAgdG1wTGlzdDogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy50bXBMaXN0ICE9PSBudWxsKSB0aGlzLnRtcExpc3QgPSBudWxsOwogICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAvLyDmmK/lkKbku47mn6Xor6LpobXot7PovawKICAgIHRoaXMucnVsZUZvcm0gPSB0aGlzLiRyb3V0ZS5xdWVyeS5ydWxlRm9ybTsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5ydWxlRm9ybSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucnVsZUZvcm0uc2lkID09PSBudWxsICYmIHRoaXMucnVsZUZvcm0uc25hbWUgPT09IG51bGwpIHsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojk0NTEvc3R1ZGVudC9nZXRMZW5ndGgnKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgY29uc29sZS5sb2coIuiOt+WPluWIl+ihqOaAu+mVv+W6pjogIiArIHJlc3AuZGF0YSk7CiAgICAgICAgdGhhdC50b3RhbCA9IHJlc3AuZGF0YTsKICAgICAgfSk7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo5NDUxL3N0dWRlbnQvZmluZEJ5UGFnZS8wLycgKyB0aGF0LnBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgdGhhdC50YWJsZURhdGEgPSByZXNwLmRhdGE7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgLy8g5LuO5p+l6K+i6aG16Lez6L2s5bm25LiU5ZCr5p+l6K+iCiAgICAgIGNvbnNvbGUubG9nKCfmraPlnKjmn6Xor6Lot7PovazmlbDmja4nKTsKICAgICAgY29uc29sZS5sb2codGhpcy5ydWxlRm9ybSk7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6OTQ1MS9zdHVkZW50L2ZpbmRCeVNlYXJjaCcsIHRoaXMucnVsZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W5p+l6K+i5pWw5o2u77yaJyk7CiAgICAgICAgdGhhdC50bXBMaXN0ID0gcmVzcC5kYXRhOwogICAgICAgIHRoYXQudG90YWwgPSByZXNwLmRhdGEubGVuZ3RoOwogICAgICAgIGNvbnNvbGUubG9nKHRoYXQudG1wTGlzdCk7CiAgICAgICAgbGV0IHN0YXJ0ID0gMCwKICAgICAgICAgIGVuZCA9IHRoYXQucGFnZVNpemU7CiAgICAgICAgbGV0IGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGg7CiAgICAgICAgbGV0IGFucyA9IGVuZCA8IGxlbmd0aCA/IGVuZCA6IGxlbmd0aDsKICAgICAgICB0aGF0LnRhYmxlRGF0YSA9IHRoYXQudG1wTGlzdC5zbGljZShzdGFydCwgYW5zKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["methods","deleteStudent","row","that","axios","get","sid","then","resp","data","$message","showClose","message","type","console","log","tmpList","window","location","reload","$router","push","catch","e","changePage","page","pageSize","tableData","start","end","length","ans","slice","editor","path","query","total","ruleForm","created","$route","undefined","sname","post"],"sources":["src/views/Admin/studentManage/studentList.vue"],"sourcesContent":["<template>\n  <div style=\"display: flex;flex-direction: column;align-items: center; \">\n    <div style=\"color: black;font-size: 30px;font-weight: bolder;margin-bottom: 30px;\">Student List</div>\n    <div >\n    <el-table :data=\"tableData\">\n      <el-table-column fixed prop=\"sid\" label=\"Student ID\" width=\"150\">\n      </el-table-column>\n      <el-table-column prop=\"sname\" label=\"Name\" width=\"120\">\n      </el-table-column>\n      <el-table-column prop=\"password\" label=\"Password\" width=\"120\">\n      </el-table-column>\n      <el-table-column label=\"Actions\" width=\"260\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-popconfirm confirm-button-text='Delete' cancel-button-text='Cancel' icon=\"el-icon-info\" icon-color=\"red\"\n            title=\"Deletion cannot be undone\" @confirm=\"deleteStudent(scope.row)\">\n            <el-button slot=\"reference\" type=\"danger\">Delete</el-button>\n          </el-popconfirm>\n          <el-button @click=\"editor(scope.row)\" type=\"primary\">Edit</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n    <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n      @current-change=\"changePage\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    deleteStudent(row) {\n      const that = this\n      axios.get('http://localhost:9451/student/deleteById/' + row.sid).then(function (resp) {\n        if (resp.data === true) {\n          that.$message({\n            showClose: true,\n            message: 'Deleted successfully',\n            type: 'success'\n          });\n          console.log(that.tmpList === null)\n          if (that.tmpList === null) {\n            window.location.reload()\n          }\n          else {\n            that.$router.push('/queryStudent')\n          }\n        }\n        else {\n          that.$message({\n            showClose: true,\n            message: 'Deletion failed, please check the database connection',\n            type: 'error'\n          });\n        }\n      }).catch(function (e) {\n        that.$message({\n          showClose: true,\n          message: 'Deletion failed due to foreign key constraints',\n          type: 'error'\n        });\n      })\n    },\n    changePage(page) {\n      page = page - 1\n      if (this.tmpList === null) {\n        const that = this\n        axios.get('http://localhost:9451/student/findByPage/' + page + '/' + that.pageSize).then(function (resp) {\n          that.tableData = resp.data\n        })\n      }\n      else {\n        let that = this\n        let start = page * that.pageSize, end = that.pageSize * (page + 1)\n        let length = that.tmpList.length\n        let ans = end < length ? end : length\n        that.tableData = that.tmpList.slice(start, ans)\n      }\n    },\n    editor(row) {\n      this.$router.push({\n        path: '/editorStudent',\n        query: {\n          sid: row.sid\n        }\n      })\n    }\n  },\n\n  data() {\n    return {\n      tableData: null,\n      pageSize: 7,\n      total: null,\n      ruleForm: null,\n      tmpList: null\n    }\n  },\n\n  created() {\n    if (this.tmpList !== null)\n      this.tmpList = null\n    const that = this\n    // 是否从查询页跳转\n    this.ruleForm = this.$route.query.ruleForm\n    if (this.$route.query.ruleForm === undefined || (this.ruleForm.sid === null && this.ruleForm.sname === null)) {\n      axios.get('http://localhost:9451/student/getLength').then(function (resp) {\n        console.log(\"获取列表总长度: \" + resp.data)\n        that.total = resp.data\n      })\n\n      axios.get('http://localhost:9451/student/findByPage/0/' + that.pageSize).then(function (resp) {\n        that.tableData = resp.data\n      })\n    }\n    else {\n      // 从查询页跳转并且含查询\n      console.log('正在查询跳转数据')\n      console.log(this.ruleForm)\n      axios.post('http://localhost:9451/student/findBySearch', this.ruleForm).then(function (resp) {\n        console.log('获取查询数据：')\n        that.tmpList = resp.data\n        that.total = resp.data.length\n        console.log(that.tmpList)\n        let start = 0, end = that.pageSize\n        let length = that.tmpList.length\n        let ans = end < length ? end : length\n        that.tableData = that.tmpList.slice(start, ans)\n      })\n    }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]}]}