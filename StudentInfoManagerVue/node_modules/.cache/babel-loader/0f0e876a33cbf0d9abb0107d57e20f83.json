{"remainingRequest":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\components\\updateInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\src\\components\\updateInfo.vue","mtime":1765659222712},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\babel.config.js","mtime":1742524554000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1742524556000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1742524558000},{"path":"C:\\Users\\xiang\\Documents\\GitHub\\Grad-student-admission-management-system\\StudentInfoManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1742524580000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICB2YXIgdmFsaWRhdGVQYXNzID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdQbGVhc2UgZW50ZXIgYSBwYXNzd29yZCcpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5ydWxlRm9ybS5jaGVja1Bhc3MgIT09ICcnKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlRmllbGQoJ2NoZWNrUGFzcycpOwogICAgICAgIH0KICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgdmFyIHZhbGlkYXRlUGFzczIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1BsZWFzZSByZS1lbnRlciB0aGUgcGFzc3dvcmQnKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHRoaXMucnVsZUZvcm0ucGFzcykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignVGhlIHBhc3N3b3JkcyBkbyBub3QgbWF0Y2ghJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICBydWxlRm9ybTogewogICAgICAgIHBhc3M6ICcnLAogICAgICAgIGNoZWNrUGFzczogJycsCiAgICAgICAgbmFtZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY2hlY2tQYXNzOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MyLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmU6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnTmFtZSBjYW5ub3QgYmUgZW1wdHknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgdGhhdC5ydWxlRm9ybS5uYW1lKTsKICAgICAgICAgIGNvbnN0IHR5cGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0eXBlJyk7CiAgICAgICAgICBsZXQgZm9ybSA9IG51bGw7CiAgICAgICAgICBsZXQgc3MgPSBudWxsOwogICAgICAgICAgaWYgKHR5cGUgPT09ICdzdHVkZW50JykgewogICAgICAgICAgICBzcyA9ICdTdHVkZW50JzsKICAgICAgICAgICAgZm9ybSA9IHsKICAgICAgICAgICAgICBzaWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NpZCcpLAogICAgICAgICAgICAgIHNuYW1lOiB0aGF0LnJ1bGVGb3JtLm5hbWUsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoYXQucnVsZUZvcm0ucGFzcwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3MgPSAnVGVhY2hlcic7CiAgICAgICAgICAgIGZvcm0gPSB7CiAgICAgICAgICAgICAgdGlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0aWQnKSwKICAgICAgICAgICAgICB0bmFtZTogdGhhdC5ydWxlRm9ybS5uYW1lLAogICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGF0LnJ1bGVGb3JtLnBhc3MKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6OTQ1MS8nICsgdHlwZSArICcvdXBkYXRlJyArIHNzLCBmb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIGlmIChyZXNwLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdVcGRhdGVkIHN1Y2Nlc3NmdWxseScsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLmVycm9yKCdVcGRhdGUgZmFpbGVkLCBwbGVhc2UgY29udGFjdCB0aGUgYWRtaW5pc3RyYXRvcicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoYXQuJHJvdXRlci5wdXNoKCIvIiArIHR5cGUgKyAnSG9tZScpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["data","validatePass","rule","value","callback","Error","ruleForm","checkPass","$refs","validateField","validatePass2","pass","name","sessionStorage","getItem","rules","validator","trigger","require","message","methods","submitForm","formName","validate","valid","that","setItem","type","form","ss","sid","sname","password","tid","tname","axios","post","then","resp","$message","showClose","error","$router","push","console","log","resetForm","resetFields"],"sources":["src/components/updateInfo.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-main style=\"width: 60%; display: flex;flex-direction: column;align-items: center;align-content: center; \">\n      <el-card style=\"padding: 20px;width:60%;display: flex;flex-direction: column;align-items: center;align-content: center; \">\n        <span style=\"width: 100%;;font-family:'HarmonyOS_Sans'  ;text-align: center;font-size: 30px;margin-bottom: 30px;font-weight: bolder;color: black;\">Update Profile</span>\n        <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\" label-position=\"left\">\n          <el-form-item  label=\"Name:\" prop=\"name\">\n            <el-input v-model=\"ruleForm.name\" :value=\"ruleForm.name\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"New Password:\" prop=\"pass\">\n            <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"Confirm Password:\" prop=\"checkPass\">\n            <el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">Submit</el-button>\n            <el-button @click=\"resetForm('ruleForm')\" type=\"warning\">Reset</el-button>\n          </el-form-item>\n        </el-form>\n      </el-card>\n    </el-main>\n  </el-container>\n</template>\n<style scope>\n\n.el-card__body{\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  \n  justify-items: center;\n}\n.el-form{\n  width: 100%;\n}\n.el-form-item__label{\n  font-family:'HarmonyOS_Sans'!important  ;\n  font-size: 15px!important;\n  color: black !important;\n  width: 100%;\n}\n</style>\n<script>\nexport default {\n  data() {\n    var validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('Please enter a password'));\n      } else {\n        if (this.ruleForm.checkPass !== '') {\n          this.$refs.ruleForm.validateField('checkPass');\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('Please re-enter the password'));\n      } else if (value !== this.ruleForm.pass) {\n        callback(new Error('The passwords do not match!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      ruleForm: {\n        pass: '',\n        checkPass: '',\n        name: sessionStorage.getItem('name')\n      },\n      rules: {\n        pass: [\n          { validator: validatePass, trigger: 'blur' }\n        ],\n        checkPass: [\n          { validator: validatePass2, trigger: 'blur' }\n        ],\n        name: [\n          { require: true, message: 'Name cannot be empty', trigger: 'blur'}\n        ]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          const that = this\n          sessionStorage.setItem('name', that.ruleForm.name)\n          const type = sessionStorage.getItem('type')\n          let form = null\n          let ss = null\n          if (type === 'student') {\n            ss = 'Student'\n            form = {\n              sid: sessionStorage.getItem('sid'),\n              sname: that.ruleForm.name,\n              password: that.ruleForm.pass,\n            }\n          }\n          else {\n            ss = 'Teacher'\n            form = {\n              tid: sessionStorage.getItem('tid'),\n              tname: that.ruleForm.name,\n              password: that.ruleForm.pass,\n            }\n          }\n\n          axios.post('http://localhost:9451/' + type + '/update' + ss, form).then(function (resp) {\n            if (resp.data === true) {\n              that.$message({\n                showClose: true,\n                message: 'Updated successfully',\n                type: 'success'\n              });\n            }\n            else {\n              that.$message.error('Update failed, please contact the administrator');\n            }\n            that.$router.push(\"/\" + type + 'Home')\n          })\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n"],"mappings":";;AA4CA;EACAA,KAAA;IACA,IAAAC,YAAA,GAAAA,CAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA;QACA,SAAAC,QAAA,CAAAC,SAAA;UACA,KAAAC,KAAA,CAAAF,QAAA,CAAAG,aAAA;QACA;QACAL,QAAA;MACA;IACA;IACA,IAAAM,aAAA,GAAAA,CAAAR,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,UAAAG,QAAA,CAAAK,IAAA;QACAP,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA;MACAE,QAAA;QACAK,IAAA;QACAJ,SAAA;QACAK,IAAA,EAAAC,cAAA,CAAAC,OAAA;MACA;MACAC,KAAA;QACAJ,IAAA,GACA;UAAAK,SAAA,EAAAf,YAAA;UAAAgB,OAAA;QAAA,EACA;QACAV,SAAA,GACA;UAAAS,SAAA,EAAAN,aAAA;UAAAO,OAAA;QAAA,EACA;QACAL,IAAA,GACA;UAAAM,OAAA;UAAAC,OAAA;UAAAF,OAAA;QAAA;MAEA;IACA;EACA;EACAG,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAd,KAAA,CAAAc,QAAA,EAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,MAAAC,IAAA;UACAZ,cAAA,CAAAa,OAAA,SAAAD,IAAA,CAAAnB,QAAA,CAAAM,IAAA;UACA,MAAAe,IAAA,GAAAd,cAAA,CAAAC,OAAA;UACA,IAAAc,IAAA;UACA,IAAAC,EAAA;UACA,IAAAF,IAAA;YACAE,EAAA;YACAD,IAAA;cACAE,GAAA,EAAAjB,cAAA,CAAAC,OAAA;cACAiB,KAAA,EAAAN,IAAA,CAAAnB,QAAA,CAAAM,IAAA;cACAoB,QAAA,EAAAP,IAAA,CAAAnB,QAAA,CAAAK;YACA;UACA,OACA;YACAkB,EAAA;YACAD,IAAA;cACAK,GAAA,EAAApB,cAAA,CAAAC,OAAA;cACAoB,KAAA,EAAAT,IAAA,CAAAnB,QAAA,CAAAM,IAAA;cACAoB,QAAA,EAAAP,IAAA,CAAAnB,QAAA,CAAAK;YACA;UACA;UAEAwB,KAAA,CAAAC,IAAA,4BAAAT,IAAA,eAAAE,EAAA,EAAAD,IAAA,EAAAS,IAAA,WAAAC,IAAA;YACA,IAAAA,IAAA,CAAAtC,IAAA;cACAyB,IAAA,CAAAc,QAAA;gBACAC,SAAA;gBACArB,OAAA;gBACAQ,IAAA;cACA;YACA,OACA;cACAF,IAAA,CAAAc,QAAA,CAAAE,KAAA;YACA;YACAhB,IAAA,CAAAiB,OAAA,CAAAC,IAAA,OAAAhB,IAAA;UACA;QACA;UACAiB,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACAC,UAAAxB,QAAA;MACA,KAAAd,KAAA,CAAAc,QAAA,EAAAyB,WAAA;IACA;EACA;AACA","ignoreList":[]}]}