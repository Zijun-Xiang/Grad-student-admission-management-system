{"remainingRequest":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\babel-loader\\lib\\index.js!F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\src\\views\\Student\\selectCourse\\querySelectedCourse.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\src\\views\\Student\\selectCourse\\querySelectedCourse.vue","mtime":1719246207859},{"path":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\babel.config.js","mtime":1670647503000},{"path":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719237287732},{"path":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719237288143},{"path":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719237287732},{"path":"F:\\StudentManageSystem-main\\StudentManageSystem-main\\学生管理平台\\前端vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1719237284507}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgZGVsZXRlU0NUOiBmdW5jdGlvbiBkZWxldGVTQ1Qocm93KSB7CiAgICAgIHZhciBjaWQgPSByb3cuY2lkOwogICAgICB2YXIgdGlkID0gcm93LnRpZDsKICAgICAgdmFyIHNpZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NpZCcpOwogICAgICB2YXIgdGVybSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRUZXJtJyk7CiAgICAgIHZhciBzY3QgPSB7CiAgICAgICAgY2lkOiBjaWQsCiAgICAgICAgdGlkOiB0aWQsCiAgICAgICAgc2lkOiBzaWQsCiAgICAgICAgdGVybTogdGVybQogICAgICB9OwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTAwODYvU0NUL2RlbGV0ZUJ5U0NUJywgc2N0KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+mAgOivvuaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfpgIDor77lpLHotKXvvIzor7fogZTns7vnrqHnkIblkZgnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UocGFnZSkgewogICAgICBwYWdlID0gcGFnZSAtIDE7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHN0YXJ0ID0gcGFnZSAqIHRoYXQucGFnZVNpemUsCiAgICAgICAgICBlbmQgPSB0aGF0LnBhZ2VTaXplICogKHBhZ2UgKyAxKTsKICAgICAgdmFyIGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGg7CiAgICAgIHZhciBhbnMgPSBlbmQgPCBsZW5ndGggPyBlbmQgOiBsZW5ndGg7CiAgICAgIHRoYXQudGFibGVEYXRhID0gdGhhdC50bXBMaXN0LnNsaWNlKHN0YXJ0LCBhbnMpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogbnVsbCwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgdG1wTGlzdDogbnVsbCwKICAgICAgdHlwZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndHlwZScpCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBzaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzaWQnKTsKICAgIHZhciB0ZXJtID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFRlcm0nKTsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDoxMDA4Ni9TQ1QvZmluZEJ5U2lkLycgKyBzaWQgKyAnLycgKyB0ZXJtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHRoYXQudG1wTGlzdCA9IHJlc3AuZGF0YTsKICAgICAgdGhhdC50b3RhbCA9IHJlc3AuZGF0YS5sZW5ndGg7CiAgICAgIHZhciBzdGFydCA9IDAsCiAgICAgICAgICBlbmQgPSB0aGF0LnBhZ2VTaXplOwogICAgICB2YXIgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aDsKICAgICAgdmFyIGFucyA9IGVuZCA8IGxlbmd0aCA/IGVuZCA6IGxlbmd0aDsKICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGVuZCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACAA;AACAC,aADA,qBACAC,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACAC,gBADA;AAEAC,gBAFA;AAGAC,gBAHA;AAIAC;AAJA;AAOA;AACAC;AACA;AACAC;AACAC,2BADA;AAEAC,2BAFA;AAGAC;AAHA;AAKAC;AACA,SAPA,MAQA;AACAJ;AACAC,2BADA;AAEAC,kCAFA;AAGAC;AAHA;AAKA;AACA,OAhBA;AAkBA,KAhCA;AAiCAE,cAjCA,sBAiCAC,IAjCA,EAiCA;AACAA;AACA;AACA;AAAA;AACA;AACA;AACAN;AACA;AAxCA,GADA;AA2CAO,MA3CA,kBA2CA;AACA;AACAC,qBADA;AAEAC,kBAFA;AAGAC,iBAHA;AAIAC,mBAJA;AAKAR;AALA;AAOA,GAnDA;AAoDAS,SApDA,qBAoDA;AACA;AACA;AACA;AACAb;AACAC;AACAA;AACA;AAAA;AACA;AACA;AACAA;AACA,KAPA;AAQA;AAhEA","names":["methods","deleteSCT","row","cid","tid","sid","term","axios","that","showClose","message","type","window","changePage","page","data","tableData","pageSize","total","tmpList","created"],"sourceRoot":"src/views/Student/selectCourse","sources":["querySelectedCourse.vue"],"sourcesContent":["<template>\n  <div  style=\"display: flex;flex-direction: column;align-items: center; justify-content: center;\">\n    <div style=\"color: black;font-size: 30px;font-weight: bolder;margin-bottom: 30px;\">学生课表查询</div>\n    <el-card >\n     \n      <el-table :data=\"tableData\" border style=\"width: 100%\">\n        <el-table-column fixed prop=\"cid\" label=\"课号\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"cname\" label=\"课程号\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"tid\" label=\"教师号\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"tname\" label=\"教师名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"ccredit\" label=\"学分\" width=\"150\">\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"100\">\n\n          <template slot-scope=\"scope\">\n            <el-popconfirm confirm-button-text='退课' cancel-button-text='取消' icon=\"el-icon-info\" title=\"确定退课？\"\n              @confirm=\"deleteSCT(scope.row)\">\n              <el-button slot=\"reference\" type=\"text\" size=\"small\">退课</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n        @current-change=\"changePage\">\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    deleteSCT(row) {\n      const cid = row.cid\n      const tid = row.tid\n      const sid = sessionStorage.getItem('sid')\n      const term = sessionStorage.getItem('currentTerm')\n      const sct = {\n        cid: cid,\n        tid: tid,\n        sid: sid,\n        term: term\n      }\n\n      const that = this\n      axios.post('http://localhost:10086/SCT/deleteBySCT', sct).then(function (resp) {\n        if (resp.data === true) {\n          that.$message({\n            showClose: true,\n            message: '退课成功',\n            type: 'success'\n          });\n          window.location.reload()\n        }\n        else {\n          that.$message({\n            showClose: true,\n            message: '退课失败，请联系管理员',\n            type: 'error'\n          });\n        }\n      })\n\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n      type: sessionStorage.getItem('type')\n    }\n  },\n  created() {\n    const sid = sessionStorage.getItem('sid')\n    const term = sessionStorage.getItem('currentTerm')\n    const that = this\n    axios.get('http://localhost:10086/SCT/findBySid/' + sid + '/' + term).then(function (resp) {\n      that.tmpList = resp.data\n      that.total = resp.data.length\n      let start = 0, end = that.pageSize\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, end)\n    })\n  },\n}\n</script>"]}]}