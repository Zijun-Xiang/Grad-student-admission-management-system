import{_ as _t,r as P,o as Ct,s as Wt,w as Ze,c as w,k as _,x as Bt,l as Kt,i as Jt,a as r,d as le,t as F,n as he,F as we,f as Me,e as K,h as te,g as ht,v as st,j as Z,u as Ye}from"./index-CqwOMfHx.js";import{d as yt,f as qt,s as zt,a as Gt}from"./docDisplay-CK9INdz_.js";var lt=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Ae={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(a){return typeof console<"u"&&console.warn(a)},getWeek:function(a){var s=new Date(a.getTime());s.setHours(0,0,0,0),s.setDate(s.getDate()+3-(s.getDay()+6)%7);var e=new Date(s.getFullYear(),0,4);return 1+Math.round(((s.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},He={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(a){var s=a%100;if(s>3&&s<21)return"th";switch(s%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Q=function(a,s){return s===void 0&&(s=2),("000"+a).slice(s*-1)},oe=function(a){return a===!0?1:0};function bt(a,s){var e;return function(){var v=this,M=arguments;clearTimeout(e),e=setTimeout(function(){return a.apply(v,M)},s)}}var dt=function(a){return a instanceof Array?a:[a]};function G(a,s,e){if(e===!0)return a.classList.add(s);a.classList.remove(s)}function A(a,s,e){var v=window.document.createElement(a);return s=s||"",e=e||"",v.className=s,e!==void 0&&(v.textContent=e),v}function ze(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Mt(a,s){if(s(a))return a;if(a.parentNode)return Mt(a.parentNode,s)}function Ge(a,s){var e=A("div","numInputWrapper"),v=A("input","numInput "+a),M=A("span","arrowUp"),h=A("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?v.type="number":(v.type="text",v.pattern="\\d*"),s!==void 0)for(var O in s)v.setAttribute(O,s[O]);return e.appendChild(v),e.appendChild(M),e.appendChild(h),e}function ne(a){try{if(typeof a.composedPath=="function"){var s=a.composedPath();return s[0]}return a.target}catch{return a.target}}var ut=function(){},Qe=function(a,s,e){return e.months[s?"shorthand":"longhand"][a]},Zt={D:ut,F:function(a,s,e){a.setMonth(e.months.longhand.indexOf(s))},G:function(a,s){a.setHours((a.getHours()>=12?12:0)+parseFloat(s))},H:function(a,s){a.setHours(parseFloat(s))},J:function(a,s){a.setDate(parseFloat(s))},K:function(a,s,e){a.setHours(a.getHours()%12+12*oe(new RegExp(e.amPM[1],"i").test(s)))},M:function(a,s,e){a.setMonth(e.months.shorthand.indexOf(s))},S:function(a,s){a.setSeconds(parseFloat(s))},U:function(a,s){return new Date(parseFloat(s)*1e3)},W:function(a,s,e){var v=parseInt(s),M=new Date(a.getFullYear(),0,2+(v-1)*7,0,0,0,0);return M.setDate(M.getDate()-M.getDay()+e.firstDayOfWeek),M},Y:function(a,s){a.setFullYear(parseFloat(s))},Z:function(a,s){return new Date(s)},d:function(a,s){a.setDate(parseFloat(s))},h:function(a,s){a.setHours((a.getHours()>=12?12:0)+parseFloat(s))},i:function(a,s){a.setMinutes(parseFloat(s))},j:function(a,s){a.setDate(parseFloat(s))},l:ut,m:function(a,s){a.setMonth(parseFloat(s)-1)},n:function(a,s){a.setMonth(parseFloat(s)-1)},s:function(a,s){a.setSeconds(parseFloat(s))},u:function(a,s){return new Date(parseFloat(s))},w:ut,y:function(a,s){a.setFullYear(2e3+parseFloat(s))}},ke={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Le={Z:function(a){return a.toISOString()},D:function(a,s,e){return s.weekdays.shorthand[Le.w(a,s,e)]},F:function(a,s,e){return Qe(Le.n(a,s,e)-1,!1,s)},G:function(a,s,e){return Q(Le.h(a,s,e))},H:function(a){return Q(a.getHours())},J:function(a,s){return s.ordinal!==void 0?a.getDate()+s.ordinal(a.getDate()):a.getDate()},K:function(a,s){return s.amPM[oe(a.getHours()>11)]},M:function(a,s){return Qe(a.getMonth(),!0,s)},S:function(a){return Q(a.getSeconds())},U:function(a){return a.getTime()/1e3},W:function(a,s,e){return e.getWeek(a)},Y:function(a){return Q(a.getFullYear(),4)},d:function(a){return Q(a.getDate())},h:function(a){return a.getHours()%12?a.getHours()%12:12},i:function(a){return Q(a.getMinutes())},j:function(a){return a.getDate()},l:function(a,s){return s.weekdays.longhand[a.getDay()]},m:function(a){return Q(a.getMonth()+1)},n:function(a){return a.getMonth()+1},s:function(a){return a.getSeconds()},u:function(a){return a.getTime()},w:function(a){return a.getDay()},y:function(a){return String(a.getFullYear()).substring(2)}},kt=function(a){var s=a.config,e=s===void 0?Ae:s,v=a.l10n,M=v===void 0?He:v,h=a.isMobile,O=h===void 0?!1:h;return function(E,j,fe){var T=fe||M;return e.formatDate!==void 0&&!O?e.formatDate(E,j,T):j.split("").map(function(q,R,b){return Le[q]&&b[R-1]!=="\\"?Le[q](E,T,e):q!=="\\"?q:""}).join("")}},mt=function(a){var s=a.config,e=s===void 0?Ae:s,v=a.l10n,M=v===void 0?He:v;return function(h,O,E,j){if(!(h!==0&&!h)){var fe=j||M,T,q=h;if(h instanceof Date)T=new Date(h.getTime());else if(typeof h!="string"&&h.toFixed!==void 0)T=new Date(h);else if(typeof h=="string"){var R=O||(e||Ae).dateFormat,b=String(h).trim();if(b==="today")T=new Date,E=!0;else if(e&&e.parseDate)T=e.parseDate(h,R);else if(/Z$/.test(b)||/GMT$/.test(b))T=new Date(h);else{for(var ye=void 0,g=[],z=0,re=0,ie="";z<R.length;z++){var W=R[z],de=W==="\\",B=R[z-1]==="\\"||de;if(ke[W]&&!B){ie+=ke[W];var V=new RegExp(ie).exec(h);V&&(ye=!0)&&g[W!=="Y"?"push":"unshift"]({fn:Zt[W],val:V[++re]})}else de||(ie+=".")}T=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),g.forEach(function($){var se=$.fn,xe=$.val;return T=se(T,xe,fe)||T}),T=ye?T:void 0}}if(!(T instanceof Date&&!isNaN(T.getTime()))){e.errorHandler(new Error("Invalid date provided: "+q));return}return E===!0&&T.setHours(0,0,0,0),T}}};function ae(a,s,e){return e===void 0&&(e=!0),e!==!1?new Date(a.getTime()).setHours(0,0,0,0)-new Date(s.getTime()).setHours(0,0,0,0):a.getTime()-s.getTime()}var Qt=function(a,s,e){return a>Math.min(s,e)&&a<Math.max(s,e)},ct=function(a,s,e){return a*3600+s*60+e},Xt=function(a){var s=Math.floor(a/3600),e=(a-s*3600)/60;return[s,e,a-s*3600-e*60]},en={DAY:864e5};function ft(a){var s=a.defaultHour,e=a.defaultMinute,v=a.defaultSeconds;if(a.minDate!==void 0){var M=a.minDate.getHours(),h=a.minDate.getMinutes(),O=a.minDate.getSeconds();s<M&&(s=M),s===M&&e<h&&(e=h),s===M&&e===h&&v<O&&(v=a.minDate.getSeconds())}if(a.maxDate!==void 0){var E=a.maxDate.getHours(),j=a.maxDate.getMinutes();s=Math.min(s,E),s===E&&(e=Math.min(j,e)),s===E&&e===j&&(v=a.maxDate.getSeconds())}return{hours:s,minutes:e,seconds:v}}typeof Object.assign!="function"&&(Object.assign=function(a){for(var s=[],e=1;e<arguments.length;e++)s[e-1]=arguments[e];if(!a)throw TypeError("Cannot convert undefined or null to object");for(var v=function(E){E&&Object.keys(E).forEach(function(j){return a[j]=E[j]})},M=0,h=s;M<h.length;M++){var O=h[M];v(O)}return a});var J=function(){return J=Object.assign||function(a){for(var s,e=1,v=arguments.length;e<v;e++){s=arguments[e];for(var M in s)Object.prototype.hasOwnProperty.call(s,M)&&(a[M]=s[M])}return a},J.apply(this,arguments)},Dt=function(){for(var a=0,s=0,e=arguments.length;s<e;s++)a+=arguments[s].length;for(var v=Array(a),M=0,s=0;s<e;s++)for(var h=arguments[s],O=0,E=h.length;O<E;O++,M++)v[M]=h[O];return v},tn=300;function nn(a,s){var e={config:J(J({},Ae),U.defaultConfig),l10n:He};e.parseDate=mt({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=g,e._setHoursFromDate=R,e._positionCalendar=S,e.changeMonth=pe,e.changeYear=Se,e.clear=Ve,e.close=_e,e.onMouseOver=Ie,e._createElement=A,e.createDay=V,e.destroy=nt,e.isEnabled=ue,e.jumpToDate=ie,e.updateValue=ve,e.open=c,e.redraw=ge,e.set=xt,e.setDate=Et,e.toggle=Ft;function v(){e.utils={getDaysInMonth:function(t,n){return t===void 0&&(t=e.currentMonth),n===void 0&&(n=e.currentYear),t===1&&(n%4===0&&n%100!==0||n%400===0)?29:e.l10n.daysInMonth[t]}}}function M(){e.element=e.input=a,e.isOpen=!1,l(),y(),Tt(),St(),v(),e.isMobile||B(),re(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&R(e.config.noCalendar?e.latestSelectedDateObj:void 0),ve(!1)),E();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&t&&S(),L("onReady")}function h(){var t;return((t=e.calendarContainer)===null||t===void 0?void 0:t.getRootNode()).activeElement||document.activeElement}function O(t){return t.bind(e)}function E(){var t=e.config;t.weekNumbers===!1&&t.showMonths===1||t.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var n=(e.days.offsetWidth+1)*t.showMonths;e.daysContainer.style.width=n+"px",e.calendarContainer.style.width=n+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function j(t){if(e.selectedDates.length===0){var n=e.config.minDate===void 0||ae(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),i=ft(e.config);n.setHours(i.hours,i.minutes,i.seconds,n.getMilliseconds()),e.selectedDates=[n],e.latestSelectedDateObj=n}t!==void 0&&t.type!=="blur"&&Nt(t);var d=e._input.value;q(),ve(),e._input.value!==d&&e._debouncedChange()}function fe(t,n){return t%12+12*oe(n===e.l10n.amPM[1])}function T(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}function q(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var t=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,n=(parseInt(e.minuteElement.value,10)||0)%60,i=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(t=fe(t,e.amPM.textContent));var d=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&ae(e.latestSelectedDateObj,e.config.minDate,!0)===0,u=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&ae(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var f=ct(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),k=ct(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),p=ct(t,n,i);if(p>k&&p<f){var x=Xt(f);t=x[0],n=x[1],i=x[2]}}else{if(u){var m=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;t=Math.min(t,m.getHours()),t===m.getHours()&&(n=Math.min(n,m.getMinutes())),n===m.getMinutes()&&(i=Math.min(i,m.getSeconds()))}if(d){var C=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;t=Math.max(t,C.getHours()),t===C.getHours()&&n<C.getMinutes()&&(n=C.getMinutes()),n===C.getMinutes()&&(i=Math.max(i,C.getSeconds()))}}b(t,n,i)}}function R(t){var n=t||e.latestSelectedDateObj;n&&n instanceof Date&&b(n.getHours(),n.getMinutes(),n.getSeconds())}function b(t,n,i){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(t%24,n,i||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Q(e.config.time_24hr?t:(12+t)%12+12*oe(t%12===0)),e.minuteElement.value=Q(n),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[oe(t>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Q(i)))}function ye(t){var n=ne(t),i=parseInt(n.value)+(t.delta||0);(i/1e3>1||t.key==="Enter"&&!/[^\d]/.test(i.toString()))&&Se(i)}function g(t,n,i,d){if(n instanceof Array)return n.forEach(function(u){return g(t,u,i,d)});if(t instanceof Array)return t.forEach(function(u){return g(u,n,i,d)});t.addEventListener(n,i,d),e._handlers.push({remove:function(){return t.removeEventListener(n,i,d)}})}function z(){L("onChange")}function re(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(i){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+i+"]"),function(d){return g(d,"click",e[i])})}),e.isMobile){It();return}var t=bt(Be,50);if(e._debouncedChange=bt(z,tn),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&g(e.daysContainer,"mouseover",function(i){e.config.mode==="range"&&Ie(ne(i))}),g(e._input,"keydown",We),e.calendarContainer!==void 0&&g(e.calendarContainer,"keydown",We),!e.config.inline&&!e.config.static&&g(window,"resize",t),window.ontouchstart!==void 0?g(window.document,"touchstart",je):g(window.document,"mousedown",je),g(window.document,"focus",je,{capture:!0}),e.config.clickOpens===!0&&(g(e._input,"focus",e.open),g(e._input,"click",e.open)),e.daysContainer!==void 0&&(g(e.monthNav,"click",Ot),g(e.monthNav,["keyup","increment"],ye),g(e.daysContainer,"click",Ke)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var n=function(i){return ne(i).select()};g(e.timeContainer,["increment"],j),g(e.timeContainer,"blur",j,{capture:!0}),g(e.timeContainer,"click",W),g([e.hourElement,e.minuteElement],["focus","click"],n),e.secondElement!==void 0&&g(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&g(e.amPM,"click",function(i){j(i)})}e.config.allowInput&&g(e._input,"blur",$e)}function ie(t,n){var i=t!==void 0?e.parseDate(t):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),d=e.currentYear,u=e.currentMonth;try{i!==void 0&&(e.currentYear=i.getFullYear(),e.currentMonth=i.getMonth())}catch(f){f.message="Invalid date supplied: "+i,e.config.errorHandler(f)}n&&e.currentYear!==d&&(L("onYearChange"),be()),n&&(e.currentYear!==d||e.currentMonth!==u)&&L("onMonthChange"),e.redraw()}function W(t){var n=ne(t);~n.className.indexOf("arrow")&&de(t,n.classList.contains("arrowUp")?1:-1)}function de(t,n,i){var d=t&&ne(t),u=i||d&&d.parentNode&&d.parentNode.firstChild,f=at("increment");f.delta=n,u&&u.dispatchEvent(f)}function B(){var t=window.document.createDocumentFragment();if(e.calendarContainer=A("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(t.appendChild(et()),e.innerContainer=A("div","flatpickr-innerContainer"),e.config.weekNumbers){var n=Re(),i=n.weekWrapper,d=n.weekNumbers;e.innerContainer.appendChild(i),e.weekNumbers=d,e.weekWrapper=i}e.rContainer=A("div","flatpickr-rContainer"),e.rContainer.appendChild(Ue()),e.daysContainer||(e.daysContainer=A("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Y(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),t.appendChild(e.innerContainer)}e.config.enableTime&&t.appendChild(tt()),G(e.calendarContainer,"rangeMode",e.config.mode==="range"),G(e.calendarContainer,"animate",e.config.animate===!0),G(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(t);var u=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!u&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var f=A("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(f,e.element),f.appendChild(e.element),e.altInput&&f.appendChild(e.altInput),f.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function V(t,n,i,d){var u=ue(n,!0),f=A("span",t,n.getDate().toString());return f.dateObj=n,f.$i=d,f.setAttribute("aria-label",e.formatDate(n,e.config.ariaDateFormat)),t.indexOf("hidden")===-1&&ae(n,e.now)===0&&(e.todayDateElem=f,f.classList.add("today"),f.setAttribute("aria-current","date")),u?(f.tabIndex=-1,it(n)&&(f.classList.add("selected"),e.selectedDateElem=f,e.config.mode==="range"&&(G(f,"startRange",e.selectedDates[0]&&ae(n,e.selectedDates[0],!0)===0),G(f,"endRange",e.selectedDates[1]&&ae(n,e.selectedDates[1],!0)===0),t==="nextMonthDay"&&f.classList.add("inRange")))):f.classList.add("flatpickr-disabled"),e.config.mode==="range"&&At(n)&&!it(n)&&f.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&t!=="prevMonthDay"&&d%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(n)+"</span>"),L("onDayCreate",f),f}function $(t){t.focus(),e.config.mode==="range"&&Ie(t)}function se(t){for(var n=t>0?0:e.config.showMonths-1,i=t>0?e.config.showMonths:-1,d=n;d!=i;d+=t)for(var u=e.daysContainer.children[d],f=t>0?0:u.children.length-1,k=t>0?u.children.length:-1,p=f;p!=k;p+=t){var x=u.children[p];if(x.className.indexOf("hidden")===-1&&ue(x.dateObj))return x}}function xe(t,n){for(var i=t.className.indexOf("Month")===-1?t.dateObj.getMonth():e.currentMonth,d=n>0?e.config.showMonths:-1,u=n>0?1:-1,f=i-e.currentMonth;f!=d;f+=u)for(var k=e.daysContainer.children[f],p=i-e.currentMonth===f?t.$i+n:n<0?k.children.length-1:0,x=k.children.length,m=p;m>=0&&m<x&&m!=(n>0?x:-1);m+=u){var C=k.children[m];if(C.className.indexOf("hidden")===-1&&ue(C.dateObj)&&Math.abs(t.$i-m)>=Math.abs(n))return $(C)}e.changeMonth(u),me(se(u),0)}function me(t,n){var i=h(),d=Te(i||document.body),u=t!==void 0?t:d?i:e.selectedDateElem!==void 0&&Te(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Te(e.todayDateElem)?e.todayDateElem:se(n>0?1:-1);u===void 0?e._input.focus():d?xe(u,n):$(u)}function Xe(t,n){for(var i=(new Date(t,n,1).getDay()-e.l10n.firstDayOfWeek+7)%7,d=e.utils.getDaysInMonth((n-1+12)%12,t),u=e.utils.getDaysInMonth(n,t),f=window.document.createDocumentFragment(),k=e.config.showMonths>1,p=k?"prevMonthDay hidden":"prevMonthDay",x=k?"nextMonthDay hidden":"nextMonthDay",m=d+1-i,C=0;m<=d;m++,C++)f.appendChild(V("flatpickr-day "+p,new Date(t,n-1,m),m,C));for(m=1;m<=u;m++,C++)f.appendChild(V("flatpickr-day",new Date(t,n,m),m,C));for(var N=u+1;N<=42-i&&(e.config.showMonths===1||C%7!==0);N++,C++)f.appendChild(V("flatpickr-day "+x,new Date(t,n+1,N%u),N,C));var ce=A("div","dayContainer");return ce.appendChild(f),ce}function Y(){if(e.daysContainer!==void 0){ze(e.daysContainer),e.weekNumbers&&ze(e.weekNumbers);for(var t=document.createDocumentFragment(),n=0;n<e.config.showMonths;n++){var i=new Date(e.currentYear,e.currentMonth,1);i.setMonth(e.currentMonth+n),t.appendChild(Xe(i.getFullYear(),i.getMonth()))}e.daysContainer.appendChild(t),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Ie()}}function be(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var t=function(d){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&d<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&d>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var n=0;n<12;n++)if(t(n)){var i=A("option","flatpickr-monthDropdown-month");i.value=new Date(e.currentYear,n).getMonth().toString(),i.textContent=Qe(n,e.config.shorthandCurrentMonth,e.l10n),i.tabIndex=-1,e.currentMonth===n&&(i.selected=!0),e.monthsDropdownContainer.appendChild(i)}}}function De(){var t=A("div","flatpickr-month"),n=window.document.createDocumentFragment(),i;e.config.showMonths>1||e.config.monthSelectorType==="static"?i=A("span","cur-month"):(e.monthsDropdownContainer=A("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),g(e.monthsDropdownContainer,"change",function(k){var p=ne(k),x=parseInt(p.value,10);e.changeMonth(x-e.currentMonth),L("onMonthChange")}),be(),i=e.monthsDropdownContainer);var d=Ge("cur-year",{tabindex:"-1"}),u=d.getElementsByTagName("input")[0];u.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&u.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(u.setAttribute("max",e.config.maxDate.getFullYear().toString()),u.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var f=A("div","flatpickr-current-month");return f.appendChild(i),f.appendChild(d),n.appendChild(f),t.appendChild(n),{container:t,yearElement:u,monthElement:i}}function Ee(){ze(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var t=e.config.showMonths;t--;){var n=De();e.yearElements.push(n.yearElement),e.monthElements.push(n.monthElement),e.monthNav.appendChild(n.container)}e.monthNav.appendChild(e.nextMonthNav)}function et(){return e.monthNav=A("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=A("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=A("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Ee(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(t){e.__hidePrevMonthArrow!==t&&(G(e.prevMonthNav,"flatpickr-disabled",t),e.__hidePrevMonthArrow=t)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(t){e.__hideNextMonthArrow!==t&&(G(e.nextMonthNav,"flatpickr-disabled",t),e.__hideNextMonthArrow=t)}}),e.currentYearElement=e.yearElements[0],qe(),e.monthNav}function tt(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var t=ft(e.config);e.timeContainer=A("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var n=A("span","flatpickr-time-separator",":"),i=Ge("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=i.getElementsByTagName("input")[0];var d=Ge("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=d.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Q(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?t.hours:T(t.hours)),e.minuteElement.value=Q(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():t.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(i),e.timeContainer.appendChild(n),e.timeContainer.appendChild(d),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var u=Ge("flatpickr-second");e.secondElement=u.getElementsByTagName("input")[0],e.secondElement.value=Q(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():t.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(A("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(u)}return e.config.time_24hr||(e.amPM=A("span","flatpickr-am-pm",e.l10n.amPM[oe((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function Ue(){e.weekdayContainer?ze(e.weekdayContainer):e.weekdayContainer=A("div","flatpickr-weekdays");for(var t=e.config.showMonths;t--;){var n=A("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(n)}return Ne(),e.weekdayContainer}function Ne(){if(e.weekdayContainer){var t=e.l10n.firstDayOfWeek,n=Dt(e.l10n.weekdays.shorthand);t>0&&t<n.length&&(n=Dt(n.splice(t,n.length),n.splice(0,t)));for(var i=e.config.showMonths;i--;)e.weekdayContainer.children[i].innerHTML=`
      <span class='flatpickr-weekday'>
        `+n.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Re(){e.calendarContainer.classList.add("hasWeeks");var t=A("div","flatpickr-weekwrapper");t.appendChild(A("span","flatpickr-weekday",e.l10n.weekAbbreviation));var n=A("div","flatpickr-weeks");return t.appendChild(n),{weekWrapper:t,weekNumbers:n}}function pe(t,n){n===void 0&&(n=!0);var i=n?t:t-e.currentMonth;i<0&&e._hidePrevMonthArrow===!0||i>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=i,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,L("onYearChange"),be()),Y(),L("onMonthChange"),qe())}function Ve(t,n){if(t===void 0&&(t=!0),n===void 0&&(n=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,n===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var i=ft(e.config),d=i.hours,u=i.minutes,f=i.seconds;b(d,u,f)}e.redraw(),t&&L("onChange")}function _e(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),L("onClose")}function nt(){e.config!==void 0&&L("onDestroy");for(var t=e._handlers.length;t--;)e._handlers[t].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var n=e.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(i){try{delete e[i]}catch{}})}function Ce(t){return e.calendarContainer.contains(t)}function je(t){if(e.isOpen&&!e.config.inline){var n=ne(t),i=Ce(n),d=n===e.input||n===e.altInput||e.element.contains(n)||t.path&&t.path.indexOf&&(~t.path.indexOf(e.input)||~t.path.indexOf(e.altInput)),u=!d&&!i&&!Ce(t.relatedTarget),f=!e.config.ignoredFocusElements.some(function(k){return k.contains(n)});u&&f&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&j(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Se(t){if(!(!t||e.config.minDate&&t<e.config.minDate.getFullYear()||e.config.maxDate&&t>e.config.maxDate.getFullYear())){var n=t,i=e.currentYear!==n;e.currentYear=n||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),i&&(e.redraw(),L("onYearChange"),be())}}function ue(t,n){var i;n===void 0&&(n=!0);var d=e.parseDate(t,void 0,n);if(e.config.minDate&&d&&ae(d,e.config.minDate,n!==void 0?n:!e.minDateHasTime)<0||e.config.maxDate&&d&&ae(d,e.config.maxDate,n!==void 0?n:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(d===void 0)return!1;for(var u=!!e.config.enable,f=(i=e.config.enable)!==null&&i!==void 0?i:e.config.disable,k=0,p=void 0;k<f.length;k++){if(p=f[k],typeof p=="function"&&p(d))return u;if(p instanceof Date&&d!==void 0&&p.getTime()===d.getTime())return u;if(typeof p=="string"){var x=e.parseDate(p,void 0,!0);return x&&x.getTime()===d.getTime()?u:!u}else if(typeof p=="object"&&d!==void 0&&p.from&&p.to&&d.getTime()>=p.from.getTime()&&d.getTime()<=p.to.getTime())return u}return!u}function Te(t){return e.daysContainer!==void 0?t.className.indexOf("hidden")===-1&&t.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(t):!1}function $e(t){var n=t.target===e._input,i=e._input.value.trimEnd()!==ot();n&&i&&!(t.relatedTarget&&Ce(t.relatedTarget))&&e.setDate(e._input.value,!0,t.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function We(t){var n=ne(t),i=e.config.wrap?a.contains(n):n===e._input,d=e.config.allowInput,u=e.isOpen&&(!d||!i),f=e.config.inline&&i&&!d;if(t.keyCode===13&&i){if(d)return e.setDate(e._input.value,!0,n===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),n.blur();e.open()}else if(Ce(n)||u||f){var k=!!e.timeContainer&&e.timeContainer.contains(n);switch(t.keyCode){case 13:k?(t.preventDefault(),j(),X()):Ke(t);break;case 27:t.preventDefault(),X();break;case 8:case 46:i&&!e.config.allowInput&&(t.preventDefault(),e.clear());break;case 37:case 39:if(!k&&!i){t.preventDefault();var p=h();if(e.daysContainer!==void 0&&(d===!1||p&&Te(p))){var x=t.keyCode===39?1:-1;t.ctrlKey?(t.stopPropagation(),pe(x),me(se(1),0)):me(void 0,x)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:t.preventDefault();var m=t.keyCode===40?1:-1;e.daysContainer&&n.$i!==void 0||n===e.input||n===e.altInput?t.ctrlKey?(t.stopPropagation(),Se(e.currentYear-m),me(se(1),0)):k||me(void 0,m*7):n===e.currentYearElement?Se(e.currentYear-m):e.config.enableTime&&(!k&&e.hourElement&&e.hourElement.focus(),j(t),e._debouncedChange());break;case 9:if(k){var C=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(ee){return ee}),N=C.indexOf(n);if(N!==-1){var ce=C[N+(t.shiftKey?-1:1)];t.preventDefault(),(ce||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(n)&&t.shiftKey&&(t.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&n===e.amPM)switch(t.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],q(),ve();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],q(),ve();break}(i||Ce(n))&&L("onKeyDown",t)}function Ie(t,n){if(n===void 0&&(n="flatpickr-day"),!(e.selectedDates.length!==1||t&&(!t.classList.contains(n)||t.classList.contains("flatpickr-disabled")))){for(var i=t?t.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),d=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),u=Math.min(i,e.selectedDates[0].getTime()),f=Math.max(i,e.selectedDates[0].getTime()),k=!1,p=0,x=0,m=u;m<f;m+=en.DAY)ue(new Date(m),!0)||(k=k||m>u&&m<f,m<d&&(!p||m>p)?p=m:m>d&&(!x||m<x)&&(x=m));var C=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+n));C.forEach(function(N){var ce=N.dateObj,ee=ce.getTime(),Pe=p>0&&ee<p||x>0&&ee>x;if(Pe){N.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Fe){N.classList.remove(Fe)});return}else if(k&&!Pe)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Fe){N.classList.remove(Fe)}),t!==void 0&&(t.classList.add(i<=e.selectedDates[0].getTime()?"startRange":"endRange"),d<i&&ee===d?N.classList.add("startRange"):d>i&&ee===d&&N.classList.add("endRange"),ee>=p&&(x===0||ee<=x)&&Qt(ee,d,i)&&N.classList.add("inRange"))})}}function Be(){e.isOpen&&!e.config.static&&!e.config.inline&&S()}function c(t,n){if(n===void 0&&(n=e._positionElement),e.isMobile===!0){if(t){t.preventDefault();var i=ne(t);i&&i.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),L("onOpen");return}else if(e._input.disabled||e.config.inline)return;var d=e.isOpen;e.isOpen=!0,d||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),L("onOpen"),S(n)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(t===void 0||!e.timeContainer.contains(t.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function o(t){return function(n){var i=e.config["_"+t+"Date"]=e.parseDate(n,e.config.dateFormat),d=e.config["_"+(t==="min"?"max":"min")+"Date"];i!==void 0&&(e[t==="min"?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(u){return ue(u)}),!e.selectedDates.length&&t==="min"&&R(i),ve()),e.daysContainer&&(ge(),i!==void 0?e.currentYearElement[t]=i.getFullYear().toString():e.currentYearElement.removeAttribute(t),e.currentYearElement.disabled=!!d&&i!==void 0&&d.getFullYear()===i.getFullYear())}}function l(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],n=J(J({},JSON.parse(JSON.stringify(a.dataset||{}))),s),i={};e.config.parseDate=n.parseDate,e.config.formatDate=n.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(C){e.config._enable=gt(C)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(C){e.config._disable=gt(C)}});var d=n.mode==="time";if(!n.dateFormat&&(n.enableTime||d)){var u=U.defaultConfig.dateFormat||Ae.dateFormat;i.dateFormat=n.noCalendar||d?"H:i"+(n.enableSeconds?":S":""):u+" H:i"+(n.enableSeconds?":S":"")}if(n.altInput&&(n.enableTime||d)&&!n.altFormat){var f=U.defaultConfig.altFormat||Ae.altFormat;i.altFormat=n.noCalendar||d?"h:i"+(n.enableSeconds?":S K":" K"):f+(" h:i"+(n.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:o("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:o("max")});var k=function(C){return function(N){e.config[C==="min"?"_minTime":"_maxTime"]=e.parseDate(N,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:k("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:k("max")}),n.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,i,n);for(var p=0;p<t.length;p++)e.config[t[p]]=e.config[t[p]]===!0||e.config[t[p]]==="true";lt.filter(function(C){return e.config[C]!==void 0}).forEach(function(C){e.config[C]=dt(e.config[C]||[]).map(O)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var p=0;p<e.config.plugins.length;p++){var x=e.config.plugins[p](e)||{};for(var m in x)lt.indexOf(m)>-1?e.config[m]=dt(x[m]).map(O).concat(e.config[m]):typeof n[m]>"u"&&(e.config[m]=x[m])}n.altInputClass||(e.config.altInputClass=D().className+" "+e.config.altInputClass),L("onParseConfig")}function D(){return e.config.wrap?a.querySelector("[data-input]"):a}function y(){typeof e.config.locale!="object"&&typeof U.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=J(J({},U.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?U.l10ns[e.config.locale]:void 0),ke.D="("+e.l10n.weekdays.shorthand.join("|")+")",ke.l="("+e.l10n.weekdays.longhand.join("|")+")",ke.M="("+e.l10n.months.shorthand.join("|")+")",ke.F="("+e.l10n.months.longhand.join("|")+")",ke.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var t=J(J({},s),JSON.parse(JSON.stringify(a.dataset||{})));t.time_24hr===void 0&&U.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=kt(e),e.parseDate=mt({config:e.config,l10n:e.l10n})}function S(t){if(typeof e.config.position=="function")return void e.config.position(e,t);if(e.calendarContainer!==void 0){L("onPreCalendarPosition");var n=t||e._positionElement,i=Array.prototype.reduce.call(e.calendarContainer.children,function(Vt,$t){return Vt+$t.offsetHeight},0),d=e.calendarContainer.offsetWidth,u=e.config.position.split(" "),f=u[0],k=u.length>1?u[1]:null,p=n.getBoundingClientRect(),x=window.innerHeight-p.bottom,m=f==="above"||f!=="below"&&x<i&&p.top>i,C=window.pageYOffset+p.top+(m?-i-2:n.offsetHeight+2);if(G(e.calendarContainer,"arrowTop",!m),G(e.calendarContainer,"arrowBottom",m),!e.config.inline){var N=window.pageXOffset+p.left,ce=!1,ee=!1;k==="center"?(N-=(d-p.width)/2,ce=!0):k==="right"&&(N-=d-p.width,ee=!0),G(e.calendarContainer,"arrowLeft",!ce&&!ee),G(e.calendarContainer,"arrowCenter",ce),G(e.calendarContainer,"arrowRight",ee);var Pe=window.document.body.offsetWidth-(window.pageXOffset+p.right),Fe=N+d>window.document.body.offsetWidth,jt=Pe+d>window.document.body.offsetWidth;if(G(e.calendarContainer,"rightMost",Fe),!e.config.static)if(e.calendarContainer.style.top=C+"px",!Fe)e.calendarContainer.style.left=N+"px",e.calendarContainer.style.right="auto";else if(!jt)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Pe+"px";else{var rt=I();if(rt===void 0)return;var Pt=window.document.body.offsetWidth,Yt=Math.max(0,Pt/2-d/2),Lt=".flatpickr-calendar.centerMost:before",Ht=".flatpickr-calendar.centerMost:after",Ut=rt.cssRules.length,Rt="{left:"+p.left+"px;right:auto;}";G(e.calendarContainer,"rightMost",!1),G(e.calendarContainer,"centerMost",!0),rt.insertRule(Lt+","+Ht+Rt,Ut),e.calendarContainer.style.left=Yt+"px",e.calendarContainer.style.right="auto"}}}}function I(){for(var t=null,n=0;n<document.styleSheets.length;n++){var i=document.styleSheets[n];if(i.cssRules){try{i.cssRules}catch{continue}t=i;break}}return t??H()}function H(){var t=document.createElement("style");return document.head.appendChild(t),t.sheet}function ge(){e.config.noCalendar||e.isMobile||(be(),qe(),Y())}function X(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ke(t){t.preventDefault(),t.stopPropagation();var n=function(C){return C.classList&&C.classList.contains("flatpickr-day")&&!C.classList.contains("flatpickr-disabled")&&!C.classList.contains("notAllowed")},i=Mt(ne(t),n);if(i!==void 0){var d=i,u=e.latestSelectedDateObj=new Date(d.dateObj.getTime()),f=(u.getMonth()<e.currentMonth||u.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=d,e.config.mode==="single")e.selectedDates=[u];else if(e.config.mode==="multiple"){var k=it(u);k?e.selectedDates.splice(parseInt(k),1):e.selectedDates.push(u)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=u,e.selectedDates.push(u),ae(u,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(C,N){return C.getTime()-N.getTime()}));if(q(),f){var p=e.currentYear!==u.getFullYear();e.currentYear=u.getFullYear(),e.currentMonth=u.getMonth(),p&&(L("onYearChange"),be()),L("onMonthChange")}if(qe(),Y(),ve(),!f&&e.config.mode!=="range"&&e.config.showMonths===1?$(d):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var x=e.config.mode==="single"&&!e.config.enableTime,m=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(x||m)&&X()}z()}}var Je={locale:[y,Ne],showMonths:[Ee,E,Ue],minDate:[ie],maxDate:[ie],positionElement:[vt],clickOpens:[function(){e.config.clickOpens===!0?(g(e._input,"focus",e.open),g(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function xt(t,n){if(t!==null&&typeof t=="object"){Object.assign(e.config,t);for(var i in t)Je[i]!==void 0&&Je[i].forEach(function(d){return d()})}else e.config[t]=n,Je[t]!==void 0?Je[t].forEach(function(d){return d()}):lt.indexOf(t)>-1&&(e.config[t]=dt(n));e.redraw(),ve(!0)}function pt(t,n){var i=[];if(t instanceof Array)i=t.map(function(d){return e.parseDate(d,n)});else if(t instanceof Date||typeof t=="number")i=[e.parseDate(t,n)];else if(typeof t=="string")switch(e.config.mode){case"single":case"time":i=[e.parseDate(t,n)];break;case"multiple":i=t.split(e.config.conjunction).map(function(d){return e.parseDate(d,n)});break;case"range":i=t.split(e.l10n.rangeSeparator).map(function(d){return e.parseDate(d,n)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));e.selectedDates=e.config.allowInvalidPreload?i:i.filter(function(d){return d instanceof Date&&ue(d,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(d,u){return d.getTime()-u.getTime()})}function Et(t,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=e.config.dateFormat),t!==0&&!t||t instanceof Array&&t.length===0)return e.clear(n);pt(t,i),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),ie(void 0,n),R(),e.selectedDates.length===0&&e.clear(!1),ve(n),n&&L("onChange")}function gt(t){return t.slice().map(function(n){return typeof n=="string"||typeof n=="number"||n instanceof Date?e.parseDate(n,void 0,!0):n&&typeof n=="object"&&n.from&&n.to?{from:e.parseDate(n.from,void 0),to:e.parseDate(n.to,void 0)}:n}).filter(function(n){return n})}function St(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var t=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);t&&pt(t,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Tt(){if(e.input=D(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=A(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),vt()}function vt(){e._positionElement=e.config.positionElement||e._input}function It(){var t=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=A("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=t,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=t==="datetime-local"?"Y-m-d\\TH:i:S":t==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}g(e.mobileInput,"change",function(n){e.setDate(ne(n).value,!1,e.mobileFormatStr),L("onChange"),L("onClose")})}function Ft(t){if(e.isOpen===!0)return e.close();e.open(t)}function L(t,n){if(e.config!==void 0){var i=e.config[t];if(i!==void 0&&i.length>0)for(var d=0;i[d]&&d<i.length;d++)i[d](e.selectedDates,e.input.value,e,n);t==="onChange"&&(e.input.dispatchEvent(at("change")),e.input.dispatchEvent(at("input")))}}function at(t){var n=document.createEvent("Event");return n.initEvent(t,!0,!0),n}function it(t){for(var n=0;n<e.selectedDates.length;n++){var i=e.selectedDates[n];if(i instanceof Date&&ae(i,t)===0)return""+n}return!1}function At(t){return e.config.mode!=="range"||e.selectedDates.length<2?!1:ae(t,e.selectedDates[0])>=0&&ae(t,e.selectedDates[1])<=0}function qe(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(t,n){var i=new Date(e.currentYear,e.currentMonth,1);i.setMonth(e.currentMonth+n),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[n].textContent=Qe(i.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=i.getMonth().toString(),t.value=i.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function ot(t){var n=t||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(i){return e.formatDate(i,n)}).filter(function(i,d,u){return e.config.mode!=="range"||e.config.enableTime||u.indexOf(i)===d}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function ve(t){t===void 0&&(t=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=ot(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=ot(e.config.altFormat)),t!==!1&&L("onValueUpdate")}function Ot(t){var n=ne(t),i=e.prevMonthNav.contains(n),d=e.nextMonthNav.contains(n);i||d?pe(i?-1:1):e.yearElements.indexOf(n)>=0?n.select():n.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):n.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Nt(t){t.preventDefault();var n=t.type==="keydown",i=ne(t),d=i;e.amPM!==void 0&&i===e.amPM&&(e.amPM.textContent=e.l10n.amPM[oe(e.amPM.textContent===e.l10n.amPM[0])]);var u=parseFloat(d.getAttribute("min")),f=parseFloat(d.getAttribute("max")),k=parseFloat(d.getAttribute("step")),p=parseInt(d.value,10),x=t.delta||(n?t.which===38?1:-1:0),m=p+k*x;if(typeof d.value<"u"&&d.value.length===2){var C=d===e.hourElement,N=d===e.minuteElement;m<u?(m=f+m+oe(!C)+(oe(C)&&oe(!e.amPM)),N&&de(void 0,-1,e.hourElement)):m>f&&(m=d===e.hourElement?m-f-oe(!e.amPM):u,N&&de(void 0,1,e.hourElement)),e.amPM&&C&&(k===1?m+p===23:Math.abs(m-p)>k)&&(e.amPM.textContent=e.l10n.amPM[oe(e.amPM.textContent===e.l10n.amPM[0])]),d.value=Q(m)}}return M(),e}function Oe(a,s){for(var e=Array.prototype.slice.call(a).filter(function(O){return O instanceof HTMLElement}),v=[],M=0;M<e.length;M++){var h=e[M];try{if(h.getAttribute("data-fp-omit")!==null)continue;h._flatpickr!==void 0&&(h._flatpickr.destroy(),h._flatpickr=void 0),h._flatpickr=nn(h,s||{}),v.push(h._flatpickr)}catch(O){console.error(O)}}return v.length===1?v[0]:v}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(a){return Oe(this,a)},HTMLElement.prototype.flatpickr=function(a){return Oe([this],a)});var U=function(a,s){return typeof a=="string"?Oe(window.document.querySelectorAll(a),s):a instanceof Node?Oe([a],s):Oe(a,s)};U.defaultConfig={};U.l10ns={en:J({},He),default:J({},He)};U.localize=function(a){U.l10ns.default=J(J({},U.l10ns.default),a)};U.setDefaults=function(a){U.defaultConfig=J(J({},U.defaultConfig),a)};U.parseDate=mt({});U.formatDate=kt({});U.compareDates=ae;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(a){return Oe(this,a)});Date.prototype.fp_incr=function(a){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof a=="string"?parseInt(a,10):a))};typeof window<"u"&&(window.flatpickr=U);const an=["placeholder","disabled"],on={__name:"EnglishDatePicker",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"YYYY-MM-DD"}},emits:["update:modelValue"],setup(a,{emit:s}){const e=a,v=s,M=P(null);let h=null;const O=E=>{if(!h)return;const j=String(E||"").trim();h.setDate(j||null,!1,"Y-m-d")};return Ct(()=>{h=U(M.value,{dateFormat:"Y-m-d",allowInput:!0,disableMobile:!0,defaultDate:e.modelValue||null,onChange:(E,j)=>v("update:modelValue",j||"")})}),Wt(()=>{var E;(E=h==null?void 0:h.destroy)==null||E.call(h),h=null}),Ze(()=>e.modelValue,E=>O(E)),Ze(()=>e.disabled,E=>{h&&(h._input.disabled=!!E)}),(E,j)=>(_(),w("input",{ref_key:"inputEl",ref:M,class:"date-input",type:"text",placeholder:a.placeholder,disabled:a.disabled},null,8,an))}},wt=_t(on,[["__scopeId","data-v-34c75f87"]]),rn={class:"dashboard-layout"},sn={class:"navbar"},ln={class:"user-info"},dn={key:0},un={class:"main-container"},cn={class:"sidebar"},fn={class:"content"},mn={key:0,class:"card mb-30 error-card"},pn={key:2,class:"card mb-30"},gn={key:0,class:"loading-text"},vn={key:1,class:"empty-state"},hn={key:2,class:"table"},yn={class:"doc-source-pill"},bn={class:"actions"},Dn=["onClick"],wn={key:3,class:"card"},_n={key:0,class:"loading-text"},Cn={key:1,class:"empty-state"},Mn={key:2,class:"review-list"},kn={class:"info"},xn={class:"student-name"},En={class:"doc-meta-row"},Sn={class:"doc-source-pill"},Tn={class:"doc-format-pill"},In={key:0,class:"muted"},Fn={class:"actions"},An=["onClick"],On=["onClick"],Nn=["onClick"],jn={key:4,class:"stack"},Pn={class:"card mb-30"},Yn={class:"form-row"},Ln={class:"form-group"},Hn={class:"form-group"},Un={class:"form-group"},Rn={class:"form-group",style:{"align-self":"end"}},Vn=["disabled"],$n={key:1,class:"loading-text"},Wn={key:2,class:"empty-state"},Bn={key:3,class:"table mt-20"},Kn={class:"actions"},Jn=["onClick","disabled"],qn=["onClick","disabled"],zn={key:5,class:"card mt-30"},Gn={class:"form-row",style:{margin:"10px 0 6px"}},Zn=["disabled"],Qn={key:0,class:"loading-text"},Xn={key:1,class:"empty-state"},ea={key:2,class:"table mt-20"},ta={key:0},na={key:1},aa={key:6,class:"card mt-30"},ia={class:"user-form"},oa={class:"form-row"},ra={class:"form-group"},sa={class:"form-group"},la=["value"],da={class:"form-group"},ua={class:"form-group"},ca={class:"form-row"},fa={class:"form-group"},ma={class:"form-group"},pa={key:0,class:"form-group"},ga={key:1,class:"form-group"},va={key:2,class:"form-group"},ha={class:"form-actions"},ya=["disabled"],ba=["disabled"],Da={key:0,class:"loading-text"},wa={key:1,class:"empty-state"},_a={key:2,class:"table mt-20"},Ca={class:"actions"},Ma=["onClick","disabled"],ka=["onClick","disabled"],xa={key:0,class:"modal-overlay"},Ea={class:"modal-box wide-modal"},Sa={key:1,class:"edit-grid"},Ta={class:"form-group"},Ia=["value"],Fa={class:"form-group"},Aa=["value"],Oa={class:"form-group"},Na=["value"],ja={class:"form-group"},Pa={class:"form-group"},Ya={class:"form-group"},La={class:"form-group"},Ha={class:"modal-actions"},Ua=["disabled"],Ra={__name:"AdminDashboardView",setup(a){const s=Jt(),e=P({}),v=P("holds"),M=P(!0),h=P([]),O=P([]),E=P(""),j=P(""),fe=P(!0),T=P(!1),q=P([]),R=P([{major_code:"CS",major_name:"Computer Science"}]),b=P({role:"student",major_code:"CS",entry_date:"",username:"",password:"",email:"",first_name:"",last_name:"",term_code:""}),ye=P(!1),g=P(null),z=P(""),re=P(""),ie=P(!1),W=P(!1),de=P([]),B=Bt({year:String(new Date().getFullYear()),start_date:"",end_date:""}),V=P(""),$=P(!0),se=P(!1),xe=P([]),me=P(""),Xe=c=>`${c.student_id}-${c.hold_type}-${c.term_code||""}`,Y=(c,o)=>{fe.value=!!c,j.value=String(o||"")},be=async c=>{var o,l;try{const y=(await Z.get(`download_document.php?doc_id=${c.doc_id}`,{responseType:"blob"})).data,S=URL.createObjectURL(y);window.open(S,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(S),6e4)}catch(D){const y=(o=D==null?void 0:D.response)==null?void 0:o.status,S=(l=D==null?void 0:D.response)==null?void 0:l.data;try{if(S instanceof Blob){const I=await S.text();Y(!1,`Failed to open document (${y||"network"}): ${I||"Forbidden/Not logged in"}`);return}}catch{}Y(!1,`Failed to open document (${y||"network"}).`)}},De=async()=>{var c,o,l,D;M.value=!0,E.value="";try{const y=await Z.get("admin_get_dashboard.php");((c=y.data)==null?void 0:c.status)==="success"?(h.value=y.data.holds||[],O.value=y.data.pending_documents||[]):E.value=((o=y.data)==null?void 0:o.message)||"Failed to load admin dashboard."}catch(y){E.value=((D=(l=y==null?void 0:y.response)==null?void 0:l.data)==null?void 0:D.message)||(y==null?void 0:y.message)||"Failed to load admin dashboard."}finally{M.value=!1}},Ee=async()=>{var c;ie.value=!0;try{const o=await Z.get("defense_windows_list.php");((c=o.data)==null?void 0:c.status)==="success"&&(de.value=o.data.data||[])}catch{}finally{ie.value=!1}},et=c=>{B.year=String(c.year),B.start_date=c.start_date,B.end_date=c.end_date,V.value=""},tt=async()=>{var c,o,l,D,y;V.value="",$.value=!0,W.value=!0;try{const S={year:Number(B.year),start_date:B.start_date,end_date:B.end_date},I=await Z.post("admin_defense_windows_upsert.php",S);((c=I.data)==null?void 0:c.status)==="success"?(V.value=((o=I.data)==null?void 0:o.message)||"Saved.",$.value=!0,await Ee()):(V.value=((l=I.data)==null?void 0:l.message)||"Save failed.",$.value=!1)}catch(S){V.value=((y=(D=S==null?void 0:S.response)==null?void 0:D.data)==null?void 0:y.message)||"Save failed.",$.value=!1}finally{W.value=!1}},Ue=async c=>{var o,l,D,y,S;V.value="",$.value=!0,W.value=!0;try{const I=await Z.post("admin_defense_windows_delete.php",{year:Number(c.year)});((o=I.data)==null?void 0:o.status)==="success"?(V.value=((l=I.data)==null?void 0:l.message)||"Deleted.",$.value=!0,await Ee()):(V.value=((D=I.data)==null?void 0:D.message)||"Delete failed.",$.value=!1)}catch(I){V.value=((S=(y=I==null?void 0:I.response)==null?void 0:y.data)==null?void 0:S.message)||"Delete failed.",$.value=!1}finally{W.value=!1}},Ne=async()=>{var c;se.value=!0;try{const o=await Z.get("admin_get_thesis_projects.php");((c=o.data)==null?void 0:c.status)==="success"&&(xe.value=o.data.data||[])}catch{}finally{se.value=!1}},Re=Kt(()=>{const c=(me.value||"").trim().toLowerCase(),o=xe.value||[];return c?o.filter(l=>[l.student_id,l.username,l.email,l.first_name,l.last_name,l.type,l.title,l.submission_date,l.defense_date].map(y=>String(y||"").toLowerCase()).join(" ").includes(c)):o}),pe=c=>{const o=new Date(c+"T00:00:00");if(isNaN(o.getTime()))return"";const l=o.getFullYear(),D=o.getMonth()+1;return D<=4?`${l}SP`:D<=8?`${l}SU`:`${l}FA`},Ve=()=>new Date().toISOString().slice(0,10);b.value.entry_date=Ve(),b.value.term_code=pe(b.value.entry_date),Ze(()=>b.value.entry_date,c=>{b.value.term_code=pe(c||"")});const _e=async()=>{var c,o,l,D;T.value=!0;try{const y=await Z.get("admin_users_list.php");((c=y.data)==null?void 0:c.status)==="success"?q.value=y.data.data||[]:Y(!1,((o=y.data)==null?void 0:o.message)||"Failed to load users")}catch(y){Y(!1,((D=(l=y==null?void 0:y.response)==null?void 0:l.data)==null?void 0:D.message)||"Failed to load users")}finally{T.value=!1}},nt=async()=>{var c;try{const o=await Z.get("majors_list.php");((c=o.data)==null?void 0:c.status)==="success"&&Array.isArray(o.data.data)&&o.data.data.length>0&&(R.value=o.data.data,R.value.some(l=>l.major_code===b.value.major_code)||(b.value.major_code=R.value[0].major_code))}catch{}},Ce=async()=>{var c,o,l,D,y,S,I;if(!b.value.username||!b.value.password){Y(!1,"Username and password are required.");return}if(b.value.password.length<6){Y(!1,"Password must be at least 6 characters.");return}T.value=!0;try{const H=await Z.post("admin_users_create.php",b.value);((c=H.data)==null?void 0:c.status)==="success"?(Y(!0,((o=H.data)==null?void 0:o.message)||"User created."),b.value.entry_date=Ve(),b.value.username="",b.value.password="",b.value.email="",b.value.first_name="",b.value.last_name="",R.value.some(ge=>ge.major_code===b.value.major_code)||(b.value.major_code=((D=(l=R.value)==null?void 0:l[0])==null?void 0:D.major_code)||"CS"),b.value.term_code=pe(b.value.entry_date),await _e(),await De()):Y(!1,((y=H.data)==null?void 0:y.message)||"Create failed")}catch(H){Y(!1,((I=(S=H==null?void 0:H.response)==null?void 0:S.data)==null?void 0:I.message)||"Create failed")}finally{T.value=!1}},je=async c=>{var o,l,D,y,S;if(c.role==="admin"){Y(!1,"Deleting admin is disabled.");return}T.value=!0;try{const I=await Z.post("admin_users_delete.php",{user_id:c.user_id});((o=I.data)==null?void 0:o.status)==="success"?(Y(!0,((l=I.data)==null?void 0:l.message)||"User deleted."),await _e(),await De()):Y(!1,((D=I.data)==null?void 0:D.message)||"Delete failed")}catch(I){Y(!1,((S=(y=I==null?void 0:I.response)==null?void 0:y.data)==null?void 0:S.message)||"Delete failed")}finally{T.value=!1}},Se=c=>{z.value="",re.value="",g.value={user_id:c.user_id,role:c.role,username:c.username,email:c.email||"",entry_date:c.entry_date||"",entry_term_code:c.entry_term_code||(c.entry_date?pe(c.entry_date):""),major_code:c.major_code||"CS"},ye.value=!0};Ze(()=>{var c;return(c=g.value)==null?void 0:c.entry_date},c=>{g.value&&(g.value.entry_term_code=pe(c||""))});const ue=()=>{ye.value=!1,g.value=null,z.value="",re.value=""},Te=async()=>{var c,o,l,D;if(g.value){T.value=!0,z.value="",re.value="";try{const y={user_id:g.value.user_id,username:g.value.username,email:g.value.email,entry_date:g.value.entry_date,entry_term_code:g.value.entry_term_code,major_code:g.value.major_code},S=await Z.post("admin_users_update.php",y);((c=S.data)==null?void 0:c.status)==="success"?(ue(),await _e(),await De()):(z.value=((o=S.data)==null?void 0:o.message)||"Update failed",re.value="err")}catch(y){z.value=((D=(l=y==null?void 0:y.response)==null?void 0:l.data)==null?void 0:D.message)||"Update failed",re.value="err"}finally{T.value=!1}}},$e=async(c,o)=>{var D,y,S,I,H,ge;const l=o==="reject"?"Rejected":"Approved";try{const X=await Z.post("admin_review_document.php",{doc_id:c.doc_id,action:o,comment:l});if(((D=X.data)==null?void 0:D.status)==="success"){const Ke=(y=X.data)!=null&&y.registrar_code?` Registrar code: ${X.data.registrar_code}`:"";Y(!0,`${((S=X.data)==null?void 0:S.message)||"Saved."}${Ke}`),await De()}else Y(!1,((I=X.data)==null?void 0:I.message)||"Action failed")}catch(X){Y(!1,((ge=(H=X==null?void 0:X.response)==null?void 0:H.data)==null?void 0:ge.message)||"Network error")}},We=async c=>{var o,l,D,y,S,I;try{const H=await Z.post("admin_lift_hold.php",{student_id:c.student_id,hold_type:c.hold_type,term_code:c.term_code||null});if(((o=H.data)==null?void 0:o.status)==="success"){const ge=(l=H.data)!=null&&l.registrar_code?` Registrar code: ${H.data.registrar_code}`:"";Y(!0,`${((D=H.data)==null?void 0:D.message)||"Hold lifted."}${ge}`),await De()}else Y(!1,((y=H.data)==null?void 0:y.message)||"Lift failed")}catch(H){Y(!1,((I=(S=H==null?void 0:H.response)==null?void 0:S.data)==null?void 0:I.message)||"Network error")}},Ie=async()=>{try{await Z.post("logout.php")}catch{}localStorage.removeItem("user"),s.push("/")},Be=async()=>{await Promise.all([De(),_e(),Ee(),Ne(),nt()])};return Ct(()=>{const c=localStorage.getItem("user");if(!c)return s.push("/");if(e.value=JSON.parse(c),e.value.role!=="admin")return s.push(e.value.role==="faculty"?"/faculty":"/dashboard");Be()}),(c,o)=>(_(),w(we,null,[r("div",rn,[r("header",sn,[o[23]||(o[23]=r("div",{class:"brand"},"Grad System (Admin Portal)",-1)),r("div",ln,[e.value.username?(_(),w("span",dn,"Admin: "+F(e.value.username),1)):le("",!0),r("button",{onClick:Be,class:"btn-refresh"},"Refresh"),r("button",{onClick:Ie,class:"btn-logout"},"Logout")])]),r("div",un,[r("aside",cn,[r("nav",null,[r("ul",null,[r("li",{class:he({active:v.value==="holds"}),onClick:o[0]||(o[0]=l=>v.value="holds")},"Active Holds",2),r("li",{class:he({active:v.value==="docs"}),onClick:o[1]||(o[1]=l=>v.value="docs")},"Pending Documents",2),r("li",{class:he({active:v.value==="defense"}),onClick:o[2]||(o[2]=l=>v.value="defense")},"Defense Dates",2),r("li",{class:he({active:v.value==="thesis"}),onClick:o[3]||(o[3]=l=>v.value="thesis")},"Thesis / Project",2),r("li",{class:he({active:v.value==="users"}),onClick:o[4]||(o[4]=l=>v.value="users")},"User Management",2)])])]),r("main",fn,[E.value?(_(),w("div",mn,F(E.value),1)):le("",!0),j.value?(_(),w("div",{key:1,class:he(["msg",{ok:fe.value,bad:!fe.value}])},F(j.value),3)):le("",!0),v.value==="holds"?(_(),w("div",pn,[o[25]||(o[25]=r("h2",null,"Active Holds",-1)),M.value?(_(),w("div",gn,"Loading...")):h.value.length===0?(_(),w("div",vn,"No active holds.")):(_(),w("div",hn,[o[24]||(o[24]=r("div",{class:"row header"},[r("div",null,"Student"),r("div",null,"Hold Type"),r("div",null,"Term"),r("div")],-1)),(_(!0),w(we,null,Me(h.value,l=>(_(),w("div",{key:l.hold_id||Xe(l),class:"row"},[r("div",null,F(l.student_username||`#${l.student_id}`),1),r("div",null,[r("span",yn,F(Ye(yt)(l.hold_type)),1)]),r("div",null,F(l.term_code||"-"),1),r("div",bn,[r("button",{class:"btn-approve",onClick:D=>We(l)},"Lift Hold",8,Dn)])]))),128))]))])):v.value==="docs"?(_(),w("div",wn,[o[26]||(o[26]=r("h2",null,"Pending Documents",-1)),M.value?(_(),w("div",_n,"Loading...")):O.value.length===0?(_(),w("div",Cn,"No pending documents.")):(_(),w("div",Mn,[(_(!0),w(we,null,Me(O.value,l=>(_(),w("div",{key:l.doc_id,class:"review-item"},[r("div",kn,[r("span",xn,F(l.student_username||`#${l.student_id}`),1),r("div",En,[r("span",Sn,F(Ye(yt)(l.doc_type)),1),r("span",Tn,F(Ye(qt)(l.file_path)),1),r("span",{class:he(["doc-status-pill",Ye(zt)(l.status)])},F(Ye(Gt)(l.status)),3),l.upload_date?(_(),w("span",In," "+F(l.upload_date),1)):le("",!0)])]),r("div",Fn,[r("button",{class:"btn-view",onClick:D=>be(l)},"View",8,An),r("button",{onClick:D=>$e(l,"reject"),class:"btn-reject"},"Reject",8,On),r("button",{onClick:D=>$e(l,"approve"),class:"btn-approve"},"Approve",8,Nn)])]))),128))]))])):v.value==="defense"?(_(),w("div",jn,[r("div",Pn,[o[31]||(o[31]=r("h2",null,"Defense Dates (Admin)",-1)),o[32]||(o[32]=r("p",{class:"subtitle"}," Publish a defense date window per year. Students must pick a defense date within the window. ",-1)),V.value?(_(),w("div",{key:0,class:he(["msg",{ok:$.value,bad:!$.value}])},F(V.value),3)):le("",!0),r("div",Yn,[r("div",Ln,[o[27]||(o[27]=r("label",null,"Year",-1)),K(r("input",{"onUpdate:modelValue":o[5]||(o[5]=l=>B.year=l),type:"number",min:"2000",max:"2100"},null,512),[[te,B.year]])]),r("div",Hn,[o[28]||(o[28]=r("label",null,"Start Date",-1)),ht(wt,{modelValue:B.start_date,"onUpdate:modelValue":o[6]||(o[6]=l=>B.start_date=l)},null,8,["modelValue"])]),r("div",Un,[o[29]||(o[29]=r("label",null,"End Date",-1)),ht(wt,{modelValue:B.end_date,"onUpdate:modelValue":o[7]||(o[7]=l=>B.end_date=l)},null,8,["modelValue"])]),r("div",Rn,[r("button",{class:"btn-approve",onClick:tt,disabled:W.value},F(W.value?"Saving...":"Save"),9,Vn)])]),ie.value?(_(),w("div",$n,"Loading windows...")):de.value.length===0?(_(),w("div",Wn,"No windows.")):(_(),w("div",Bn,[o[30]||(o[30]=r("div",{class:"row header"},[r("div",null,"Year"),r("div",null,"Start"),r("div",null,"End"),r("div")],-1)),(_(!0),w(we,null,Me(de.value,l=>(_(),w("div",{key:l.year,class:"row"},[r("div",null,[r("strong",null,F(l.year),1)]),r("div",null,F(l.start_date),1),r("div",null,F(l.end_date),1),r("div",Kn,[r("button",{class:"btn-view",onClick:D=>et(l),disabled:W.value},"Edit",8,Jn),r("button",{class:"btn-reject",onClick:D=>Ue(l),disabled:W.value},"Delete",8,qn)])]))),128))]))])])):v.value==="thesis"?(_(),w("div",zn,[o[34]||(o[34]=r("h2",null,"Student Thesis / Project Timeline",-1)),r("div",Gn,[K(r("input",{"onUpdate:modelValue":o[8]||(o[8]=l=>me.value=l),class:"select",type:"text",placeholder:"Search students..."},null,512),[[te,me.value]]),r("button",{class:"btn-view",onClick:Ne,disabled:se.value},"Refresh",8,Zn)]),se.value?(_(),w("div",Qn,"Loading...")):Re.value.length===0?(_(),w("div",Xn,"No data.")):(_(),w("div",ea,[o[33]||(o[33]=r("div",{class:"row header thesis-row"},[r("div",null,"Student"),r("div",null,"Term"),r("div",null,"Type"),r("div",null,"Submission"),r("div",null,"Defense"),r("div",null,"Title")],-1)),(_(!0),w(we,null,Me(Re.value,l=>(_(),w("div",{key:l.student_id,class:"row thesis-row"},[r("div",null,[r("strong",null,F(l.username||`#${l.student_id}`),1)]),r("div",null,[l.term_number?(_(),w("span",ta,"Term "+F(l.term_number),1)):(_(),w("span",na,"-"))]),r("div",null,F(l.type||"-"),1),r("div",null,F(l.submission_date||"-"),1),r("div",null,F(l.defense_date||"-"),1),r("div",null,F(l.title||"-"),1)]))),128))]))])):(_(),w("div",aa,[o[46]||(o[46]=r("h2",null,"User Management",-1)),r("div",ia,[r("div",oa,[r("div",ra,[o[36]||(o[36]=r("label",null,"Role",-1)),K(r("select",{"onUpdate:modelValue":o[9]||(o[9]=l=>b.value.role=l)},[...o[35]||(o[35]=[r("option",{value:"student"},"Student",-1),r("option",{value:"faculty"},"Faculty",-1)])],512),[[st,b.value.role]])]),r("div",sa,[o[37]||(o[37]=r("label",null,"Major / Program",-1)),K(r("select",{"onUpdate:modelValue":o[10]||(o[10]=l=>b.value.major_code=l)},[(_(!0),w(we,null,Me(R.value,l=>(_(),w("option",{key:l.major_code,value:l.major_code},F(l.major_name),9,la))),128))],512),[[st,b.value.major_code]])]),r("div",da,[o[38]||(o[38]=r("label",null,"Entry Date",-1)),K(r("input",{"onUpdate:modelValue":o[11]||(o[11]=l=>b.value.entry_date=l),type:"date"},null,512),[[te,b.value.entry_date]])]),r("div",ua,[o[39]||(o[39]=r("label",null,"Username",-1)),K(r("input",{"onUpdate:modelValue":o[12]||(o[12]=l=>b.value.username=l),type:"text",placeholder:"e.g. student2 / prof_jamil"},null,512),[[te,b.value.username]])])]),r("div",ca,[r("div",fa,[o[40]||(o[40]=r("label",null,"Password",-1)),K(r("input",{"onUpdate:modelValue":o[13]||(o[13]=l=>b.value.password=l),type:"password",placeholder:"At least 6 characters"},null,512),[[te,b.value.password]])]),r("div",ma,[o[41]||(o[41]=r("label",null,"Email (optional)",-1)),K(r("input",{"onUpdate:modelValue":o[14]||(o[14]=l=>b.value.email=l),type:"email",placeholder:"Optional"},null,512),[[te,b.value.email]])]),b.value.role==="student"?(_(),w("div",pa,[o[42]||(o[42]=r("label",null,"First Name (optional)",-1)),K(r("input",{"onUpdate:modelValue":o[15]||(o[15]=l=>b.value.first_name=l),type:"text",placeholder:"Optional"},null,512),[[te,b.value.first_name]])])):le("",!0),b.value.role==="student"?(_(),w("div",ga,[o[43]||(o[43]=r("label",null,"Last Name (optional)",-1)),K(r("input",{"onUpdate:modelValue":o[16]||(o[16]=l=>b.value.last_name=l),type:"text",placeholder:"Optional"},null,512),[[te,b.value.last_name]])])):le("",!0),b.value.role==="student"?(_(),w("div",va,[o[44]||(o[44]=r("label",null,"Entry Term Code (auto)",-1)),K(r("input",{"onUpdate:modelValue":o[17]||(o[17]=l=>b.value.term_code=l),type:"text",disabled:""},null,512),[[te,b.value.term_code]])])):le("",!0)]),r("div",ha,[r("button",{class:"btn-view",onClick:_e,disabled:T.value},"Refresh",8,ya),r("button",{class:"btn-approve",onClick:Ce,disabled:T.value},"Create User",8,ba)])]),T.value?(_(),w("div",Da,"Loading users...")):q.value.length===0?(_(),w("div",wa,"No users.")):(_(),w("div",_a,[o[45]||(o[45]=r("div",{class:"row header users-header"},[r("div",null,"Username"),r("div",null,"Role"),r("div",null,"Major"),r("div",null,"Email"),r("div",null,"Entry Date"),r("div",null,"Entry Term"),r("div")],-1)),(_(!0),w(we,null,Me(q.value,l=>(_(),w("div",{key:l.user_id,class:"row users-row"},[r("div",null,F(l.username),1),r("div",null,F(l.role),1),r("div",null,F(l.major_name||l.major_code||"CS"),1),r("div",null,F(l.email||"-"),1),r("div",null,F(l.entry_date||"-"),1),r("div",null,F(l.entry_term_code||"-"),1),r("div",Ca,[r("button",{class:"btn-view",onClick:D=>Se(l),disabled:l.role==="admin"},"Edit",8,Ma),r("button",{class:"btn-reject",onClick:D=>je(l),disabled:l.role==="admin"},"Delete",8,ka)])]))),128))]))]))])])]),ye.value?(_(),w("div",xa,[r("div",Ea,[o[54]||(o[54]=r("h3",null,"Edit Registration Info",-1)),z.value?(_(),w("div",{key:0,class:he(["inline-msg",{ok:re.value==="ok",err:re.value==="err"}])},F(z.value),3)):le("",!0),g.value?(_(),w("div",Sa,[r("div",Ta,[o[47]||(o[47]=r("label",null,"User ID",-1)),r("input",{value:g.value.user_id,disabled:""},null,8,Ia)]),r("div",Fa,[o[48]||(o[48]=r("label",null,"Role",-1)),r("input",{value:g.value.role,disabled:""},null,8,Aa)]),r("div",Oa,[o[49]||(o[49]=r("label",null,"Major / Program",-1)),K(r("select",{"onUpdate:modelValue":o[18]||(o[18]=l=>g.value.major_code=l)},[(_(!0),w(we,null,Me(R.value,l=>(_(),w("option",{key:l.major_code,value:l.major_code},F(l.major_name),9,Na))),128))],512),[[st,g.value.major_code]])]),r("div",ja,[o[50]||(o[50]=r("label",null,"Username",-1)),K(r("input",{"onUpdate:modelValue":o[19]||(o[19]=l=>g.value.username=l)},null,512),[[te,g.value.username]])]),r("div",Pa,[o[51]||(o[51]=r("label",null,"Email",-1)),K(r("input",{"onUpdate:modelValue":o[20]||(o[20]=l=>g.value.email=l),type:"email"},null,512),[[te,g.value.email]])]),r("div",Ya,[o[52]||(o[52]=r("label",null,"Entry Date",-1)),K(r("input",{"onUpdate:modelValue":o[21]||(o[21]=l=>g.value.entry_date=l),type:"date"},null,512),[[te,g.value.entry_date]])]),r("div",La,[o[53]||(o[53]=r("label",null,"Entry Term Code (auto)",-1)),K(r("input",{"onUpdate:modelValue":o[22]||(o[22]=l=>g.value.entry_term_code=l),disabled:""},null,512),[[te,g.value.entry_term_code]])])])):le("",!0),r("div",Ha,[r("button",{class:"btn-cancel",onClick:ue},"Cancel"),r("button",{class:"btn-confirm-approve",onClick:Te,disabled:T.value},"Save",8,Ua)])])])):le("",!0)],64))}},Wa=_t(Ra,[["__scopeId","data-v-2240d188"]]);export{Wa as default};
